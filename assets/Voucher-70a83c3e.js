import{_ as p,d as o,u as f,C as a,H as g,r as v,o as u,c as l,a as _,b as t,e as c,t as d,f as b,v as y,F as V}from"./index-3c50fdb7.js";o.defaults.withCredentials=!0;let m={"Content-Type":"application/json",Language:"en-US","X-Member-Details":o.defaults.headers.common["X-Member-Details"],Authorization:o.defaults.headers.common.Authorization};const C={data(){return{title:"",description:"",voucher:"",afterResult:!1,detail:""}},created(){const{t:e}=f();this.title=e("title.voucher"),this.description=e("title.voucher_description")},methods:{getVoucherDetail(){o.defaults.headers.common["Content-Type"]="application/json",o.defaults.headers.common.Language="en-US",o.defaults.headers.common["X-Member-Details"]=a.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(a.enc.Utf8),o.defaults.headers.common.Authorization=sessionStorage.getItem("tokenLogin"),o.post(this.apiUrl+"GetVoucherDetailByVoucherCode",{VoucherCode:this.voucher},{headers:m}).then(e=>{this.detail=e.data.VoucherDetail.Content,this.afterResult=!0}).catch(e=>{console.error(e)})},submitVoucher(){o.defaults.headers.common["Content-Type"]="application/json",o.defaults.headers.common.Language="en-US",o.defaults.headers.common["X-Member-Details"]=a.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(a.enc.Utf8),o.defaults.headers.common.Authorization=sessionStorage.getItem("tokenLogin"),o.post(this.apiUrl+"ClaimVoucher",{VoucherCode:this.voucher},{headers:m}).then(e=>{alert(e.data.ResponseMessage),this.afterResult=!1}).catch(e=>{console.error(e)})}},components:{Header:g}},S={class:"form-01-main"},D={class:"form-cover"},M={class:"container"},k={key:0,style:{"margin-top":"80px",color:"white"}},U=["innerHTML"],L={class:"form-sub-main"},A={class:"form-group"},H={class:"btn_uy"},T={key:1},w={class:"form-sub-main"},I={class:"form-group"},R={class:"form-group"},z={class:"btn_uy"};function B(e,s,E,X,r,n){const h=v("Header");return u(),l(V,null,[_(h,{title:r.title,description:r.description},null,8,["title","description"]),t("section",S,[t("div",D,[t("div",M,[r.afterResult?(u(),l("div",k,[t("div",{innerHTML:r.detail,style:{width:"50%",margin:"auto"}},null,8,U),t("form",{onSubmit:s[1]||(s[1]=c((...i)=>e.submitConfirmVoucher&&e.submitConfirmVoucher(...i),["prevent"]))},[t("div",L,[t("div",A,[t("div",H,[t("button",{type:"submit",onClick:s[0]||(s[0]=(...i)=>n.submitVoucher&&n.submitVoucher(...i))},d(e.$t("common.submit")),1)])])])],32)])):(u(),l("div",T,[t("form",{onSubmit:s[4]||(s[4]=c((...i)=>e.submitvoucher&&e.submitvoucher(...i),["prevent"]))},[t("div",w,[t("div",I,[b(t("input",{class:"form-control _ge_de_ol","onUpdate:modelValue":s[2]||(s[2]=i=>r.voucher=i),type:"text",placeholder:"Enter Voucher Code",required:"","aria-required":"true"},null,512),[[y,r.voucher]])]),t("div",R,[t("div",z,[t("button",{type:"submit",onClick:s[3]||(s[3]=(...i)=>n.getVoucherDetail&&n.getVoucherDetail(...i))},d(e.$t("common.submit")),1)])])])],32)]))])])])],64)}const q=p(C,[["render",B]]);export{q as default};
