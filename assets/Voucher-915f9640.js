import{_ as p,d as n,u as f,C as c,H as v,r as _,o as u,c as a,a as b,b as t,e as l,t as d,f as V,v as g,F as y}from"./index-200b4202.js";let m={"X-Member-Details":n.defaults.headers.common["X-Member-Details"]};const C={data(){return{title:"",description:"",voucher:"",afterResult:!1,detail:""}},created(){const{t:e}=f();this.title=e("title.voucher"),this.description=e("title.voucher_description"),n.defaults.headers.common["X-Member-Details"]=c.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(c.enc.Utf8)},methods:{getVoucherDetail(){n.post("GetVoucherDetailByVoucherCode",{VoucherCode:this.voucher},{headers:m}).then(e=>{this.detail=e.data.VoucherDetail.Content,this.afterResult=!0}).catch(e=>{console.error(e)})},submitVoucher(){n.post("ClaimVoucher",{VoucherCode:this.voucher},{headers:m}).then(e=>{alert(e.data.ResponseMessage),this.afterResult=!1}).catch(e=>{console.error(e)})}},components:{Header:v}},D={class:"form-01-main"},M={class:"form-cover"},S={class:"container"},k={key:0,style:{"margin-top":"80px",color:"white"}},H=["innerHTML"],R={class:"form-sub-main"},w={class:"form-group"},B={class:"btn_uy"},E={key:1},T={class:"form-sub-main"},X={class:"form-group"},q={class:"form-group"},F={class:"btn_uy"};function I(e,o,L,N,r,i){const h=_("Header");return u(),a(y,null,[b(h,{title:r.title,description:r.description},null,8,["title","description"]),t("section",D,[t("div",M,[t("div",S,[r.afterResult?(u(),a("div",k,[t("div",{innerHTML:r.detail,style:{width:"50%",margin:"auto"}},null,8,H),t("form",{onSubmit:o[1]||(o[1]=l((...s)=>e.submitConfirmVoucher&&e.submitConfirmVoucher(...s),["prevent"]))},[t("div",R,[t("div",w,[t("div",B,[t("button",{type:"submit",onClick:o[0]||(o[0]=(...s)=>i.submitVoucher&&i.submitVoucher(...s))},d(e.$t("common.submit")),1)])])])],32)])):(u(),a("div",E,[t("form",{onSubmit:o[4]||(o[4]=l((...s)=>e.submitvoucher&&e.submitvoucher(...s),["prevent"]))},[t("div",T,[t("div",X,[V(t("input",{class:"form-control _ge_de_ol","onUpdate:modelValue":o[2]||(o[2]=s=>r.voucher=s),type:"text",placeholder:"Enter Voucher Code",required:"","aria-required":"true"},null,512),[[g,r.voucher]])]),t("div",q,[t("div",F,[t("button",{type:"submit",onClick:o[3]||(o[3]=(...s)=>i.getVoucherDetail&&i.getVoucherDetail(...s))},d(e.$t("common.submit")),1)])])])],32)]))])])])],64)}const x=p(C,[["render",I]]);export{x as default};
