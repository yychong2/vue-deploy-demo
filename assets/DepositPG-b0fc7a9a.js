import{_ as y,d as c,C,L as I,r as d,o as l,c as r,a as i,b as o,t as D,w as u,F as _,f as b,g as f,l as x}from"./index-ceb2d85c.js";let k={"X-Member-Details":c.defaults.headers.common["X-Member-Details"]};const V={data(){return{operatorBankAccountList:{},bankCodeList:[],promotionList:[],bank_selected:"",promotion_selected:"",bank_code_selected:"",bankCodeResult:!1,loading:!1}},created(){c.defaults.headers.common["X-Member-Details"]=C.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(C.enc.Utf8),this.GetDepositDetails()},methods:{GetDepositDetails:function(n){c.get("GetPGDepositDetails",{},{headers:k}).then(e=>{e.data.ResponseCode=="0"&&(this.operatorBankAccountList=e.data.OperatorBankAccountList,e.data.PromotionList.length>0&&(this.promotionList.push({Title:"Please select",Id:""}),e.data.PromotionList.forEach(s=>{this.promotionList.push({Title:s.Title,Id:s.Id})})))}).catch(e=>{console.error(e)})},GetBankCodeDetails(n){const e=[];this.operatorBankAccountList.forEach(s=>{s.BankId===n&&e.push(s)}),c.post("GetPgBankDetails",{DepositBankId:n,DepositBankCode:e[0].BankCode,DepositAmount:"",ProductId:"",ProductCode:"",ProductPromotionId:"",PromotionId:"",PromotionCode:"",SwiftCode:e[0].SwiftCode},{headers:k}).then(s=>{this.bankCodeList=[],s.data.ResponseCode=="0"&&(s.data.PgDetail.BankList!=null?s.data.PgDetail.BankList.length>0?(console.log(s.data),this.bankCodeList=s.data.PgDetail.BankList,console.log(this.bankCodeList),this.bankCodeResult=!0):(this.bankCodeList="",this.bankCodeResult=!1):(this.bankCodeList="",this.bankCodeResult=!1))}).catch(s=>{console.error(s)})},onSubmit(n){this.product_selected,this.loading=!0,c.post("PgDeposit",{DepositBankId:this.bank_selected,DepositBankCode:"",DepositAmount:n.amount_deposit,ProductId:"",ProductCode:"",ProductPromotionId:"",PromotionId:this.promotion_selected,PromotionCode:""},{headers:k}).then(e=>{console.log(e.data),e.data.ResponseCode=="0"&&(alert(e.data.ResponseMessage),window.open(e.data.ResponseData))}).catch(e=>{console.error(e)}).finally(e=>{this.loading=!1})},validateDepositAmount(n){return n?!0:"This field is required"}},components:{Loading:I}},A={class:"py-5"},S={class:"container px-5"},G={class:"bg-light rounded-3 py-5 px-4 px-md-5 mb-5"},R={class:"text-center mb-5"},w=o("div",{class:"feature bg-dark bg-gradient text-white rounded-3 mb-3"},[o("i",{class:"bi bi-cash"})],-1),E={class:"fw-bolder"},F={class:"row gx-5 justify-content-center"},M={class:"col-lg-8 col-xl-6"},N={class:"form-floating mb-3"},T={class:"form-group"},q=o("span",{style:{color:"black"}},"Bank Name",-1),U={key:0,class:"form-floating mb-3"},X={class:"form-group"},O=o("span",{style:{color:"black"}},"Bank Options",-1),j={class:"form-floating mb-3"},J={class:"form-group"},K=o("span",{style:{color:"black"}},"Promotion",-1),z={class:"form-floating mb-3"},H={class:"d-grid"},Q={class:"btn btn-dark btn-lg",id:"submitButton"};function W(n,e,s,Y,a,m){const P=d("Loading"),p=d("el-option"),h=d("el-select"),B=d("Field"),L=d("ErrorMessage"),v=d("Form");return l(),r(_,null,[i(P,{loading:a.loading},null,8,["loading"]),o("section",A,[o("div",S,[o("div",G,[o("div",R,[w,o("h1",E,D(n.$t("title.deposit"))+" PG",1)]),o("div",F,[o("div",M,[i(v,{onSubmit:m.onSubmit},{default:u(()=>[o("div",N,[o("div",T,[q,i(h,{class:"form-control2 _ge_de_ol",modelValue:a.bank_selected,"onUpdate:modelValue":e[0]||(e[0]=t=>a.bank_selected=t),onChange:m.GetBankCodeDetails,placeholder:"Please select","aria-required":"true"},{default:u(()=>[(l(!0),r(_,null,b(a.operatorBankAccountList,(t,g)=>(l(),f(p,{label:t.BankName,key:t.BankId,value:t.BankId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])])]),a.bankCodeResult?(l(),r("div",U,[o("div",X,[O,i(h,{class:"form-control2 _ge_de_ol",modelValue:a.bank_code_selected,"onUpdate:modelValue":e[1]||(e[1]=t=>a.bank_code_selected=t),placeholder:"Please select","aria-required":"true"},{default:u(()=>[(l(!0),r(_,null,b(a.bankCodeList,(t,g)=>(l(),f(p,{label:t.Name,key:t.Code,value:t.Code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):x("",!0),o("div",j,[o("div",J,[K,i(h,{class:"form-control2 _ge_de_ol",modelValue:a.promotion_selected,"onUpdate:modelValue":e[2]||(e[2]=t=>a.promotion_selected=t),placeholder:"Please select","aria-required":"true"},{default:u(()=>[(l(!0),r(_,null,b(a.promotionList,(t,g)=>(l(),f(p,{label:t.Title,key:t.Id,value:t.Id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),o("div",z,[i(B,{class:"form-control2 _ge_de_ol",name:"amount_deposit",type:"text",inputmode:"numeric",pattern:"/d+",placeholder:"Enter Deposit Amount",rules:m.validateDepositAmount,autocomplete:"off"},null,8,["rules"]),i(L,{name:"amount_deposit",style:{color:"red"}})]),o("div",H,[o("button",Q,D(n.$t("common.submit")),1)])]),_:1},8,["onSubmit"])])])])])])],64)}const $=y(V,[["render",W]]);export{$ as default};
