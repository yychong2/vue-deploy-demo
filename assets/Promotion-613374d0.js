import{_ as f,d as n,u as y,C as m,H as b,r as C,o as r,c as i,a as v,b as t,F as d,h,t as p}from"./index-51354787.js";let _={"X-Member-Details":n.defaults.headers.common["X-Member-Details"]};const w={data(){return{title:"",description:"",promotionList:{},promotionCategory:{},selectedArticle:null}},created(){const{t:o}=y();this.title=o("title.promotion"),this.description=o("title.promotion_description"),this.getPromotion(),this.getPromotionCategoryList(),n.defaults.headers.common["X-Member-Details"]=m.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(m.enc.Utf8)},methods:{getPromotion:function(o){n.get("GetPromotionNews",{},{headers:_}).then(e=>{e.data.ResponseCode=="0"&&(this.promotionList=e.data.PromotionNewsList)}).catch(e=>{console.error(e)})},getPromotionCategoryList:function(o){n.get("GetPromotionCategoryList",{},{headers:_}).then(e=>{e.data.ResponseCode=="0"&&(this.promotionCategory=e.data.PromotionCategoryList)}).catch(e=>{console.error(e)})},filterArticle(o){this.selectedArticle=o},showAll(){this.selectedArticle=null}},computed:{filteredArticles(){return this.selectedArticle?this.promotionList.filter(e=>{if(e.CategoryType.match(this.selectedArticle.toString())!=null)return!0}):this.promotionList}},components:{Header:b}},A={class:"py-5"},P={class:"container px-4 px-lg-5 mt-5"},k={class:"row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center"},x=t("h5",{class:"fw-bolder btn btn-outline-dark mt-auto"},"Show All",-1),L=[x],S=["onClick"],D={class:"card"},N={class:"fw-bolder btn btn-outline-dark mt-auto"},H={class:"card h-100"},I=["src"],B={class:"card-body p-4"},M={class:"text-center"},T={class:"fw-bolder"},V=t("div",{class:"card-footer p-4 pt-0 border-top-0 bg-transparent"},[t("div",{class:"text-center"},[t("a",{class:"btn btn-outline-dark mt-auto",href:"#"},"View Promotion")])],-1);function X(o,e,u,E,a,c){const g=C("Header");return r(),i(d,null,[v(g,{title:a.title,description:a.description},null,8,["title","description"]),t("section",A,[t("div",P,[t("div",k,[t("div",null,[t("div",{class:"card",onClick:e[0]||(e[0]=s=>c.showAll(o.category))},L),(r(!0),i(d,null,h(a.promotionCategory,(s,l)=>(r(),i("div",{key:l,onClick:F=>c.filterArticle(s.ParentId)},[t("div",D,[t("h5",N,p(s.CategoryName),1)])],8,S))),128))]),(r(!0),i(d,null,h(c.filteredArticles,(s,l)=>(r(),i("div",{class:"col mb-5",key:l},[t("div",H,[t("img",{class:"card-img-top",src:s.Image,alt:"{{ item.Title }}"},null,8,I),t("div",B,[t("div",M,[t("h5",T,p(s.Title),1)])]),V])]))),128))])])])],64)}const R=f(w,[["render",X]]);export{R as default};
