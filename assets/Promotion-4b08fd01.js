import{_ as A,d as m,u as D,C as g,H as L,r as u,o as n,c as l,a as c,w as d,b as e,F as h,g as f,f as b,t as r}from"./index-98e023ea.js";let y={"X-Member-Details":m.defaults.headers.common["X-Member-Details"]};const P={data(){return{title:"",description:"",promotionList:{},promotionCategory:{},selectedArticle:null,detail:"",title:"",centerDialogVisible:!1}},created(){const{t:o}=D();this.title=o("title.promotion"),this.description=o("title.promotion_description"),this.getPromotion(),this.getPromotionCategoryList(),m.defaults.headers.common["X-Member-Details"]=g.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(g.enc.Utf8)},methods:{getPromotion:function(o){m.get("GetPromotionNews",{},{headers:y}).then(t=>{t.data.ResponseCode=="0"&&(this.promotionList=t.data.PromotionNewsList)}).catch(t=>{console.error(t)})},getPromotionCategoryList:function(o){m.get("GetPromotionCategoryList",{},{headers:y}).then(t=>{t.data.ResponseCode=="0"&&(this.promotionCategory=t.data.PromotionCategoryList)}).catch(t=>{console.error(t)})},filterArticle(o){this.selectedArticle=o},showAll(){this.selectedArticle=null},viewDetail(o){this.promotionList.forEach(t=>{t.ParentId===o&&(this.detail=t.Content,this.title=t.Title,this.centerDialogVisible=!0)})}},computed:{filteredArticles(){return this.selectedArticle?this.promotionList.filter(t=>{if(t.CategoryType.match(this.selectedArticle.toString())!=null)return!0}):this.promotionList}},components:{Header:L}},V=["innerHTML"],x={class:"dialog-footer"},S={class:"py-5"},T={class:"container px-4 px-lg-5 mt-5"},H={class:"row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center"},I=e("h5",{class:"fw-bolder btn btn-outline-dark mt-auto"},"Show All",-1),N=[I],M=["onClick"],B={class:"card"},E={class:"fw-bolder btn btn-outline-dark mt-auto"},X={class:"card h-100"},F=["src"],G={class:"card-body p-4"},R={class:"text-center"},U={class:"fw-bolder"},j={class:"card-footer p-4 pt-0 border-top-0 bg-transparent"},J={class:"text-center"},K=["onClick"];function q(o,t,v,z,i,a){const C=u("Header"),p=u("el-button"),w=u("el-dialog");return n(),l(h,null,[c(C,{title:i.title,description:i.description},null,8,["title","description"]),c(w,{modelValue:i.centerDialogVisible,"onUpdate:modelValue":t[2]||(t[2]=s=>i.centerDialogVisible=s),title:i.title,width:"60%",center:""},{footer:d(()=>[e("span",x,[c(p,{onClick:t[0]||(t[0]=s=>i.centerDialogVisible=!1)},{default:d(()=>[b(r(o.$t("common.cancel")),1)]),_:1}),c(p,{type:"primary",onClick:t[1]||(t[1]=s=>i.centerDialogVisible=!1)},{default:d(()=>[b(r(o.$t("common.confirm")),1)]),_:1})])]),default:d(()=>[e("div",{innerHTML:i.detail,style:{margin:"auto"}},null,8,V)]),_:1},8,["modelValue","title"]),e("section",S,[e("div",T,[e("div",H,[e("div",null,[e("div",{class:"card",onClick:t[3]||(t[3]=s=>a.showAll(o.category))},N),(n(!0),l(h,null,f(i.promotionCategory,(s,_)=>(n(),l("div",{key:_,onClick:k=>a.filterArticle(s.ParentId)},[e("div",B,[e("h5",E,r(s.CategoryName),1)])],8,M))),128))]),(n(!0),l(h,null,f(a.filteredArticles,(s,_)=>(n(),l("div",{class:"col mb-5",key:_},[e("div",X,[e("img",{class:"card-img-top",src:s.Image,alt:"{{ item.Title }}"},null,8,F),e("div",G,[e("div",R,[e("h5",U,r(s.Title),1)])]),e("div",j,[e("div",J,[e("a",{class:"btn btn-outline-dark mt-auto",onClick:k=>a.viewDetail(s.ParentId)},r(o.$t("common.view")),9,K)])])])]))),128))])])])],64)}const Q=A(P,[["render",q]]);export{Q as default};
