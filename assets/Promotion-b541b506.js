import{_ as A,d as a,C as h,r as p,o as l,c as n,a as m,w as r,b as e,F as u,f,i as y,t as g}from"./index-a80addb1.js";let C={"X-Member-Details":a.defaults.headers.common["X-Member-Details"]};const L={data(){return{promotionList:{},promotionCategory:{},selectedArticle:null,detail:"",title:"",centerDialogVisible:!1,activeName:"show_all"}},created(){this.getPromotion(),this.getPromotionCategoryList(),a.defaults.headers.common["X-Member-Details"]=h.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(h.enc.Utf8)},methods:{getPromotion:function(o){a.get("GetPromotionNews",{},{headers:C}).then(t=>{t.data.ResponseCode=="0"&&(this.promotionList=t.data.PromotionNewsList)}).catch(t=>{console.error(t)})},getPromotionCategoryList:function(o){a.get("GetPromotionCategoryList",{},{headers:C}).then(t=>{t.data.ResponseCode=="0"&&(this.promotionCategory=t.data.PromotionCategoryList)}).catch(t=>{console.error(t)})},filterArticle(o){this.selectedArticle=o},showAll(){this.selectedArticle=null},viewDetail(o){this.promotionList.forEach(t=>{t.ParentId===o&&(this.detail=t.Content,this.title=t.Title,this.centerDialogVisible=!0)})}},computed:{filteredArticles(){return this.selectedArticle?this.promotionList.filter(t=>{if(t.CategoryType.match(this.selectedArticle.toString())!=null)return!0}):this.promotionList}},components:{}},P=["innerHTML"],D={class:"dialog-footer"},V={class:"py-5"},w={class:"horizontal-menu plain"},k=e("a",null,"Show All",-1),N=[k],S=["onClick"],x={class:"container px-5 my-5"},T={class:"row gx-5"},M={class:"position-relative mb-5 gameClick"},I=["src"];function B(o,t,v,E,s,c){const _=p("el-button"),b=p("el-dialog");return l(),n(u,null,[m(b,{modelValue:s.centerDialogVisible,"onUpdate:modelValue":t[2]||(t[2]=i=>s.centerDialogVisible=i),title:s.title,width:"60%",center:""},{footer:r(()=>[e("span",D,[m(_,{onClick:t[0]||(t[0]=i=>s.centerDialogVisible=!1)},{default:r(()=>[y(g(o.$t("common.cancel")),1)]),_:1}),m(_,{type:"primary",onClick:t[1]||(t[1]=i=>s.centerDialogVisible=!1)},{default:r(()=>[y(g(o.$t("common.confirm")),1)]),_:1})])]),default:r(()=>[e("div",{innerHTML:s.detail,style:{margin:"auto"}},null,8,P)]),_:1},8,["modelValue","title"]),e("section",V,[e("nav",w,[e("ul",null,[e("li",{onClick:t[3]||(t[3]=i=>c.showAll(o.category)),class:"active"},N),(l(!0),n(u,null,f(s.promotionCategory,(i,d)=>(l(),n("li",{key:d,onClick:X=>c.filterArticle(i.ParentId)},[e("a",null,g(i.CategoryName),1)],8,S))),128))])]),e("div",x,[e("div",T,[(l(!0),n(u,null,f(c.filteredArticles,(i,d)=>(l(),n("div",{class:"col-lg-6",key:d},[e("div",M,[e("img",{class:"img-fluid rounded-3 mb-3",src:i.Image,alt:"{{ itemPromotion.Title }}"},null,8,I)])]))),128))])])])],64)}const G=A(L,[["render",B]]);export{G as default};
