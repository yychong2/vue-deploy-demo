import{_ as v,d as r,C as g,L as y,r as d,o as l,c,a as i,b as t,t as C,w as u,F as _,f as b,g as f,m as I}from"./index-d140495a.js";const x={data(){return{operatorBankAccountList:{},bankCodeList:[],promotionList:[],bank_selected:"",promotion_selected:"",bank_code_selected:"",bankCodeResult:!1,loading:!1,headers:{"X-Member-Details":r.defaults.headers.common["X-Member-Details"]}}},created(){r.defaults.headers.common["X-Member-Details"]=g.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(g.enc.Utf8),this.GetDepositDetails()},methods:{GetDepositDetails:function(n){r.get("GetPGDepositDetails",{},this.headers).then(e=>{e.data.ResponseCode=="0"&&(this.operatorBankAccountList=e.data.OperatorBankAccountList,e.data.PromotionList.length>0&&(this.promotionList.push({Title:"Please select",Id:""}),e.data.PromotionList.forEach(s=>{this.promotionList.push({Title:s.Title,Id:s.Id})})))}).catch(e=>{console.error(e)})},GetBankCodeDetails(n){const e=[];this.operatorBankAccountList.forEach(s=>{s.BankId===n&&e.push(s)}),r.post("GetPgBankDetails",{DepositBankId:n,DepositBankCode:e[0].BankCode,DepositAmount:"",ProductId:"",ProductCode:"",ProductPromotionId:"",PromotionId:"",PromotionCode:"",SwiftCode:e[0].SwiftCode},this.headers).then(s=>{this.bankCodeList=[],s.data.ResponseCode=="0"&&(s.data.PgDetail.BankList!=null?s.data.PgDetail.BankList.length>0?(console.log(s.data),this.bankCodeList=s.data.PgDetail.BankList,console.log(this.bankCodeList),this.bankCodeResult=!0):(this.bankCodeList="",this.bankCodeResult=!1):(this.bankCodeList="",this.bankCodeResult=!1))}).catch(s=>{console.error(s)})},onSubmit(n){this.product_selected,this.loading=!0,r.post("PgDeposit",{DepositBankId:this.bank_selected,DepositBankCode:"",DepositAmount:n.amount_deposit,ProductId:"",ProductCode:"",ProductPromotionId:"",PromotionId:this.promotion_selected,PromotionCode:""},this.headers).then(e=>{console.log(e.data),e.data.ResponseCode=="0"&&(alert(e.data.ResponseMessage),window.open(e.data.ResponseData))}).catch(e=>{console.error(e)}).finally(e=>{this.loading=!1})},validateDepositAmount(n){return n?!0:"This field is required"}},components:{Loading:y}},V={class:"py-5"},A={class:"container px-5"},S={class:"bg-light rounded-3 py-5 px-4 px-md-5 mb-5"},G={class:"text-center mb-5"},R=t("div",{class:"feature bg-dark bg-gradient text-white rounded-3 mb-3"},[t("i",{class:"bi bi-cash"})],-1),w={class:"fw-bolder"},E={class:"row gx-5 justify-content-center"},F={class:"col-lg-8 col-xl-6"},M={class:"form-floating mb-3"},N={class:"form-group"},T=t("span",{style:{color:"black"}},"Bank Name",-1),q={key:0,class:"form-floating mb-3"},U={class:"form-group"},X=t("span",{style:{color:"black"}},"Bank Options",-1),O={class:"form-floating mb-3"},j={class:"form-group"},J=t("span",{style:{color:"black"}},"Promotion",-1),K={class:"form-floating mb-3"},z={class:"d-grid"},H={class:"btn btn-dark btn-lg",id:"submitButton"};function Q(n,e,s,W,a,m){const D=d("Loading"),p=d("el-option"),h=d("el-select"),P=d("Field"),B=d("ErrorMessage"),L=d("Form");return l(),c(_,null,[i(D,{loading:a.loading},null,8,["loading"]),t("section",V,[t("div",A,[t("div",S,[t("div",G,[R,t("h1",w,C(n.$t("title.deposit"))+" PG",1)]),t("div",E,[t("div",F,[i(L,{onSubmit:m.onSubmit},{default:u(()=>[t("div",M,[t("div",N,[T,i(h,{class:"form-control2 _ge_de_ol",modelValue:a.bank_selected,"onUpdate:modelValue":e[0]||(e[0]=o=>a.bank_selected=o),onChange:m.GetBankCodeDetails,placeholder:"Please select","aria-required":"true"},{default:u(()=>[(l(!0),c(_,null,b(a.operatorBankAccountList,(o,k)=>(l(),f(p,{label:o.BankName,key:o.BankId,value:o.BankId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])])]),a.bankCodeResult?(l(),c("div",q,[t("div",U,[X,i(h,{class:"form-control2 _ge_de_ol",modelValue:a.bank_code_selected,"onUpdate:modelValue":e[1]||(e[1]=o=>a.bank_code_selected=o),placeholder:"Please select","aria-required":"true"},{default:u(()=>[(l(!0),c(_,null,b(a.bankCodeList,(o,k)=>(l(),f(p,{label:o.Name,key:o.Code,value:o.Code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):I("",!0),t("div",O,[t("div",j,[J,i(h,{class:"form-control2 _ge_de_ol",modelValue:a.promotion_selected,"onUpdate:modelValue":e[2]||(e[2]=o=>a.promotion_selected=o),placeholder:"Please select","aria-required":"true"},{default:u(()=>[(l(!0),c(_,null,b(a.promotionList,(o,k)=>(l(),f(p,{label:o.Title,key:o.Id,value:o.Id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),t("div",K,[i(P,{class:"form-control2 _ge_de_ol",name:"amount_deposit",type:"text",inputmode:"numeric",pattern:"/d+",placeholder:"Enter Deposit Amount",rules:m.validateDepositAmount,autocomplete:"off"},null,8,["rules"]),i(B,{name:"amount_deposit",style:{color:"red"}})]),t("div",z,[t("button",H,C(n.$t("common.submit")),1)])]),_:1},8,["onSubmit"])])])])])])],64)}const Z=v(x,[["render",Q]]);export{Z as default};
