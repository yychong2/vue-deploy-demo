import{_ as v,d as s,u as y,C as l,H as A,r as d,o as a,c,a as u,b as r,e as C,w as h,f as S,v as P,t as D,F as m,g,h as _}from"./index-569ab991.js";s.defaults.withCredentials=!0;let T={"Content-Type":"application/json",Language:"en-US","X-Member-Details":s.defaults.headers.common["X-Member-Details"],Authorization:s.defaults.headers.common.Authorization};const U={data(){return{title:"",description:"",productFrom:"",productTo:"",productList:[],productListTo:[],transferAmount:""}},created(){const{t}=y();this.title=t("title.transfer"),this.description=t("title.transfer_description"),this.GetProductWalletFrom()},methods:{GetProductWalletFrom(){s.defaults.headers.common["Content-Type"]="application/json",s.defaults.headers.common.Language="en-US",s.defaults.headers.common["X-Member-Details"]=l.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(l.enc.Utf8),s.defaults.headers.common.Authorization=sessionStorage.getItem("tokenLogin"),s.get(this.apiUrl+"GetProductWalletDetails",{},{headers:T}).then(t=>{for(let e=0;e<t.data.ProductList.length;e++)(t.data.ProductList[e].IsMaintenance==!1||t.data.ProductList[e].IsDrop==!1)&&this.productList.push({name:t.data.ProductList[e].ProductName,code:t.data.ProductList[e].ProductCode})}).catch(t=>{console.error(t)})},onChange(t){this.productListTo=[];for(let e=0;e<this.productList.length;e++)t!=this.productList[e].code&&this.productListTo.push({name:this.productList[e].name,code:this.productList[e].code});this.productTo=""},submitTransfer(){s.defaults.headers.common["Content-Type"]="application/json",s.defaults.headers.common.Language="en-US",s.defaults.headers.common["X-Member-Details"]=l.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(l.enc.Utf8),s.defaults.headers.common.Authorization=sessionStorage.getItem("tokenLogin"),s.post(this.apiUrl+"Transfer",{TransferFrom:this.productFrom,TransferTo:this.productTo,TransferAmount:this.transferAmount},{headers:T}).then(t=>{alert(t.data.ResponseMessage)}).catch(t=>{console.error(t)})}},components:{Header:A}},F={class:"form-01-main"},V={class:"form-cover"},k={class:"container"},M={class:"form-sub-main"},I={class:"form-group"},x={class:"form-group"},w={class:"form-group"},j={class:"form-group"},z={class:"btn_uy"};function B(t,e,E,H,n,i){const b=d("Header"),p=d("el-option"),f=d("el-select");return a(),c(m,null,[u(b,{title:n.title,description:n.description},null,8,["title","description"]),r("section",F,[r("div",V,[r("div",k,[r("form",{onSubmit:e[4]||(e[4]=C((...o)=>t.submitTransferAmount&&t.submitTransferAmount(...o),["prevent"]))},[r("div",M,[r("div",I,[u(f,{class:"form-control _ge_de_ol",modelValue:n.productFrom,"onUpdate:modelValue":e[0]||(e[0]=o=>n.productFrom=o),onChange:i.onChange,clearable:"",placeholder:"Please select"},{default:h(()=>[(a(!0),c(m,null,g(n.productList,(o,L)=>(a(),_(p,{label:o.name,key:o.code,value:o.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),r("div",x,[u(f,{class:"form-control _ge_de_ol",clearable:"",filterable:"",modelValue:n.productTo,"onUpdate:modelValue":e[1]||(e[1]=o=>n.productTo=o),placeholder:"Please select"},{default:h(()=>[(a(!0),c(m,null,g(n.productListTo,(o,L)=>(a(),_(p,{label:o.name,key:o.code,value:o.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),r("div",w,[S(r("input",{class:"form-control _ge_de_ol","onUpdate:modelValue":e[2]||(e[2]=o=>n.transferAmount=o),type:"text",placeholder:"Enter Transfer Amount",required:""},null,512),[[P,n.transferAmount]])]),r("div",j,[r("div",z,[r("button",{type:"submit",onClick:e[3]||(e[3]=(...o)=>i.submitTransfer&&i.submitTransfer(...o))},D(t.$t("common.submit")),1)])])])],32)])])])],64)}const G=v(U,[["render",B]]);export{G as default};
