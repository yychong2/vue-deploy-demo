import{_ as T,d as i,C as m,L as x,r as s,o as n,c as h,a as l,b as e,t as c,e as y,w as b,h as g,k as w,F as p,f as S,g as P}from"./index-d140495a.js";import{e as V}from"./main-f65f0af4.js";const R={data(){return{update_dob:null,max_date:null,startDate:null,endDate:null,format:"yyyy-MM-dd",report_type:"",headers:{"X-Member-Details":i.defaults.headers.common["X-Member-Details"]},options:[{value:"DEP",label:"Deposit"},{value:"WIT",label:"Withdrawal"},{value:"PRO",label:"Promotion"},{value:"TRA",label:"Transfer"},{value:"WL",label:"Bet"},{value:"VOU",label:"Voucher"}],headers:[],data:[],show:!1,loading:!1}},created(){i.defaults.headers.common["X-Member-Details"]=m.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(m.enc.Utf8)},methods:{searchHistory(){if(this.startDate==null||this.endDate==null||this.report_type=="")return alert("The field is required");this.loading=!0,i.post("History",{HistoryFromDate:this.startDate,HistoryToDate:this.endDate,ReportType:this.report_type},this.headers).then(t=>{t.data.ResponseCode=="0"&&(this.report_type=="DEP"?t.data.ReportDepositDetails!=null&&(this.data=t.data.ReportDepositDetails,this.show=!0,this.headers=[{text:"Deposit Number",value:"DepositNo"},{text:"Deposit Amount",value:"DepositAmount"},{text:"Deposit Method",value:"DepositMethodStr"},{text:"Deposit Status",value:"DepositStatusStr"},{text:"Deposit Time",value:"DepositTimeLocalStr"}]):this.report_type=="WIT"?t.data.ReportWithdrawDetails!=null&&(this.data=t.data.ReportWithdrawDetails,this.show=!0,this.headers=[{text:"Withdrawal Number",value:"WithdrawNo"},{text:"Withdrawal Amount",value:"WithdrawAmount"},{text:"Withdrawal Bank",value:"WithdrawBank"},{text:"Withdrawal Status",value:"WithdrawStatusStr"},{text:"Withdrawal Time",value:"WithdrawTimeLocalStr"}]):this.report_type=="PRO"?t.data.ReportPromotionDetails!=null&&(this.data=t.data.ReportPromotionDetails,this.show=!0,this.headers=[{text:"Promotion Title",value:"PromoTitle"},{text:"Promotion Amount",value:"PromoAmount"},{text:"Promotion turnover",value:"PromoTurnover"},{text:"Product Name",value:"ProductName"},{text:"Promotion Status",value:"PromoStatusStr"},{text:"Promotion Time",value:"PromoTimeLocalStr"}]):this.report_type=="TRA"?t.data.ReportTransferDetails!=null&&(this.data=t.data.ReportTransferDetails,this.show=!0,this.headers=[{text:"Transfer From",value:"TransferFrom"},{text:"Transfer To",value:"TransferTo"},{text:"Transfer Amount",value:"TransferAmount"},{text:"Transfer Status",value:"TransferStatusStr"},{text:"Transfer Time",value:"TransferTimeLocalStr"}]):this.report_type=="WL"?t.data.ReportBetDetails!=null&&(this.data=t.data.ReportBetDetails,this.show=!0,this.headers=[{text:"Bet Nunmber",value:"BetNo"},{text:"Total Record",value:"TotalRecord"},{text:"Product Name",value:"ProductName"},{text:"Product Type",value:"ProductType"},{text:"Turnover Amount",value:"TurnoverAmount"},{text:"Bet Amount",value:"BetAmount"},{text:"Win Lose",value:"WinLose"},{text:"Bet Time",value:"BetTimeLocal"}]):this.report_type=="VOU"&&t.data.ReportVoucherDetails!=null&&(this.data=t.data.ReportVoucherDetails,this.show=!0,this.headers=[{text:"Voucher Id",value:"VoucherId"},{text:"Voucher Amount",value:"VoucherAmount"},{text:"Voucher Title",value:"Title"},{text:"Voucher Status",value:"VoucherStatusStr"},{text:"Claim Time",value:"ClaimTimeLocalStr"}]))}).catch(t=>{console.error(t)}).finally(t=>{this.loading=!1})}},components:{Loading:x,VueDatePicker:V}},W={class:"py-5"},A={class:"container px-5"},B={class:"bg-light rounded-3 py-5 px-4 px-md-5 mb-5"},L={class:"text-center mb-5"},k=e("div",{class:"feature bg-dark bg-gradient text-white rounded-3 mb-3"},[e("i",{class:"bi bi-files"})],-1),N={class:"fw-bolder"},H={class:"row gx-5 justify-content-center"},C={class:"col-lg-8 col-xl-6"},M={class:"form-floating mb-3"},E={class:"form-group"},U={class:"form-floating mb-3"},F={class:"form-group"},I={class:"form-floating mb-3"},O={class:"form-group"},X={class:"d-grid"};function j(t,r,q,J,a,u){const f=s("Loading"),v=s("el-option"),_=s("el-select"),d=s("VueDatePicker"),D=s("EasyDataTable");return n(),h(p,null,[l(f,{loading:a.loading},null,8,["loading"]),e("section",W,[e("div",A,[e("div",B,[e("div",L,[k,e("h1",N,c(t.$t("nav.history")),1)]),e("div",H,[e("div",C,[e("form",{onSubmit:r[4]||(r[4]=y((...o)=>t.searchHistoryData&&t.searchHistoryData(...o),["prevent"]))},[e("div",M,[e("div",E,[l(_,{class:"form-control _ge_de_ol",modelValue:a.report_type,"onUpdate:modelValue":r[0]||(r[0]=o=>a.report_type=o),placeholder:"Report Type"},{default:b(()=>[(n(!0),h(p,null,S(a.options,(o,K)=>(n(),P(v,{label:o.label,key:o.value,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),e("div",U,[e("div",F,[l(d,{class:"form-control _ge_de_ol",modelValue:a.startDate,"onUpdate:modelValue":r[1]||(r[1]=o=>a.startDate=o),format:a.format,"auto-apply":"",placeholder:"Start Date"},null,8,["modelValue","format"])])]),e("div",I,[e("div",O,[l(d,{class:"form-control _ge_de_ol",modelValue:a.endDate,"onUpdate:modelValue":r[2]||(r[2]=o=>a.endDate=o),format:a.format,"auto-apply":"",placeholder:"End Date"},null,8,["modelValue","format"])])]),e("div",X,[e("button",{class:"btn btn-dark btn-lg",onClick:r[3]||(r[3]=(...o)=>u.searchHistory&&u.searchHistory(...o)),id:"submitButton"},c(t.$t("common.submit")),1)])],32)])])])])]),g(e("div",null,[l(D,{headers:a.headers,items:a.data},null,8,["headers","items"])],512),[[w,a.show]])],64)}const Q=T(R,[["render",j]]);export{Q as default};
