import{_ as u,d as o,u as _,C as l,H as p,r as h,o as m,c as f,a as g,b as r,h as y,v as b,F as R}from"./index-d2e958fe.js";import{e as D}from"./main-ebad8783.js";const v={data(){return{title:"",description:"",qr_code:"",referrar_link:"",startDate:null,endDate:null,format:"yyyy-MM-dd",headers:{"X-Member-Details":o.defaults.headers.common["X-Member-Details"]}}},created(){const{t}=_();this.title=t("title.referrer"),this.description=t("title.referrer_description"),o.defaults.headers.common["X-Member-Details"]=l.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(l.enc.Utf8),this.getReferrerRebateQRDetails()},methods:{getReferrerList:function(t){o.get("GetReferrerList",{},this.headers).then(e=>{e.data.ResponseCode=="0"&&console.log(e.data)}).catch(e=>{console.error(e)})},getReferrerRebateQRDetails:function(t){o.get("GetReferrerRebateQRDetails",{},this.headers).then(e=>{e.data.ResponseCode=="0"&&(this.referrar_link=e.data.QrCodeLink,this.qr_code="data:image/png;base64,"+e.data.QrCodeImageBase64)}).catch(e=>{console.error(e)})},searchRebateData(){if(this.startDate==null||this.endDate==null)return alert("The field is required");o.post("GetReferrerRebateReport",{FromDate:this.startDate,ToDate:this.endDate},this.headers).then(t=>{console.log(t.data),t.data.ResponseCode=="0"}).catch(t=>{console.error(t)})},copy(){let t=document.querySelector("#testing-code");t.setAttribute("type","text"),t.select();try{var e=document.execCommand("copy"),n=e?"successful":"unsuccessful";alert("Copied "+n)}catch{alert("Oops, unable to copy")}t.setAttribute("type","hidden"),window.getSelection().removeAllRanges()}},components:{Header:p,VueDatePicker:D}},x={class:"py-5"},C={class:"container px-5"},k={class:"bg-light rounded-3 py-5 px-4 px-md-5 mb-5"},q={class:"row gx-5 justify-content-center"},M={class:"col-lg-8 col-xl-8"},S={class:"qr_board"},w=["src"],Q=r("hr",{class:"mt-0 mb-4"},null,-1),A=["value"];function B(t,e,n,c,s,i){const d=h("Header");return m(),f(R,null,[g(d,{title:s.title,description:s.description},null,8,["title","description"]),r("section",x,[r("div",C,[r("div",k,[r("div",q,[r("div",M,[r("div",S,[r("img",{class:"qr_code",src:s.qr_code,alt:""},null,8,w)]),r("div",null,[y(r("input",{class:"form-control _ge_de_ol",ref:"message",style:{color:"black","max-width":"1000px"},type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.referrar_link=a),disabled:""},null,512),[[b,s.referrar_link]])]),Q,r("button",{class:"btn btn-dark btn-lg",onClick:e[1]||(e[1]=(...a)=>i.copy&&i.copy(...a))},"Copy"),r("input",{type:"hidden",id:"testing-code",value:s.referrar_link},null,8,A)])])])])])],64)}const V=u(v,[["render",B]]);export{V as default};
