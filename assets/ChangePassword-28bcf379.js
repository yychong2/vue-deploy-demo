import{_ as f,d as i,C as c,L as p,r,o as h,c as g,a as t,b as s,t as m,w as b,F as P}from"./index-dd8aa07f.js";const v={"X-Member-Details":i.defaults.headers.common["X-Member-Details"]},y={data(){return{new_password:"",loading:!1}},created(){i.defaults.headers.common["X-Member-Details"]=c.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(c.enc.Utf8)},methods:{updatePassword(e){this.loading=!0,i.post("ChangeUserPassword",{OldPassword:e.old_password,NewPassword:e.new_password},{headers:v}).then(o=>{o.data.ResponseCode=="0"&&alert(o.data.ResponseMessage)}).catch(o=>{console.error(o)}).finally(o=>{this.loading=!1})},validateOldPassword(e){return e?!0:"This field is required"},validateNewPassword(e){return e?!0:"This field is required"},validateConfirmPassword(e){return e?e!=this.new_password?"This field must be same with Password":!0:"This field is required"}},components:{Loading:p}},C={class:"py-5"},x={class:"container px-5"},E={class:"bg-light rounded-3 py-5 px-4 px-md-5 mb-5"},F={class:"text-center mb-5"},N=s("div",{class:"feature bg-dark bg-gradient text-white rounded-3 mb-3"},[s("i",{class:"bi bi-key"})],-1),S={class:"fw-bolder"},M={class:"row gx-5 justify-content-center"},k={class:"col-lg-8 col-xl-6"},D={class:"form-floating mb-3"},O=s("label",{for:"name"},"Old Password",-1),V={class:"form-floating mb-3"},B=s("label",{for:"name"},"New Password",-1),L={class:"form-floating mb-3"},T=s("label",{for:"name"},"Confirm Password",-1),q={class:"d-grid"},U={class:"btn btn-dark btn-lg",id:"submitButton"};function X(e,o,R,j,d,a){const _=r("Loading"),n=r("Field"),l=r("ErrorMessage"),w=r("Form");return h(),g(P,null,[t(_,{loading:d.loading},null,8,["loading"]),s("section",C,[s("div",x,[s("div",E,[s("div",F,[N,s("h1",S,m(e.$t("title.password")),1)]),s("div",M,[s("div",k,[t(w,{onSubmit:a.updatePassword,id:"passwordForm"},{default:b(()=>[s("div",D,[t(n,{class:"form-control _ge_de_ol",name:"old_password",type:"password",placeholder:"Enter Old Passowrd",rules:a.validateOldPassword,autocomplete:"off"},null,8,["rules"]),O,t(l,{name:"old_password",style:{color:"red"}})]),s("div",V,[t(n,{class:"form-control _ge_de_ol",modelValue:d.new_password,"onUpdate:modelValue":o[0]||(o[0]=u=>d.new_password=u),name:"new_password",type:"password",rules:a.validateNewPassword,placeholder:"Enter New Password",autocomplete:"off"},null,8,["modelValue","rules"]),B,t(l,{name:"new_password",style:{color:"red"}})]),s("div",L,[t(n,{class:"form-control _ge_de_ol",name:"confirm_password",type:"password",rules:a.validateConfirmPassword,placeholder:"Enter Confirm Password",autocomplete:"off"},null,8,["rules"]),T,t(l,{name:"confirm_password",style:{color:"red"}})]),s("div",q,[s("button",U,m(e.$t("common.submit")),1)])]),_:1},8,["onSubmit"])])])])])])],64)}const I=f(y,[["render",X]]);export{I as default};
