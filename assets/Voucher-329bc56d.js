import{_ as p,d as n,u as f,C as c,H as v,r as _,o as a,c as u,a as b,b as t,e as l,t as d,f as V,v as g,F as C}from"./index-dd7d713e.js";let m={"X-Member-Details":n.defaults.headers.common["X-Member-Details"]};const y={data(){return{title:"",description:"",voucher:"",afterResult:!1,detail:""}},created(){const{t:e}=f();this.title=e("title.voucher"),this.description=e("title.voucher_description"),n.defaults.headers.common["X-Member-Details"]=c.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(c.enc.Utf8)},methods:{getVoucherDetail(){n.post("GetVoucherDetailByVoucherCode",{VoucherCode:this.voucher},{headers:m}).then(e=>{e.data.ResponseCode=="0"&&(this.detail=e.data.VoucherDetail.Content,this.afterResult=!0)}).catch(e=>{console.error(e)})},submitVoucher(){n.post("ClaimVoucher",{VoucherCode:this.voucher},{headers:m}).then(e=>{e.data.ResponseCode=="0"&&(alert(e.data.ResponseMessage),this.afterResult=!1)}).catch(e=>{console.error(e)})}},components:{Header:v}},D={class:"form-01-main"},M={class:"form-cover"},R={class:"container"},S={key:0,style:{"margin-top":"80px",color:"white"}},k=["innerHTML"],H={class:"form-sub-main"},w={class:"form-group"},B={class:"btn_uy"},E={key:1},T={class:"form-sub-main"},X={class:"form-group"},q={class:"form-group"},F={class:"btn_uy"};function I(e,o,L,N,i,r){const h=_("Header");return a(),u(C,null,[b(h,{title:i.title,description:i.description},null,8,["title","description"]),t("section",D,[t("div",M,[t("div",R,[i.afterResult?(a(),u("div",S,[t("div",{innerHTML:i.detail,style:{width:"50%",margin:"auto"}},null,8,k),t("form",{onSubmit:o[1]||(o[1]=l((...s)=>e.submitConfirmVoucher&&e.submitConfirmVoucher(...s),["prevent"]))},[t("div",H,[t("div",w,[t("div",B,[t("button",{type:"submit",onClick:o[0]||(o[0]=(...s)=>r.submitVoucher&&r.submitVoucher(...s))},d(e.$t("common.submit")),1)])])])],32)])):(a(),u("div",E,[t("form",{onSubmit:o[4]||(o[4]=l((...s)=>e.submitvoucher&&e.submitvoucher(...s),["prevent"]))},[t("div",T,[t("div",X,[V(t("input",{class:"form-control _ge_de_ol","onUpdate:modelValue":o[2]||(o[2]=s=>i.voucher=s),type:"text",placeholder:"Enter Voucher Code",required:"","aria-required":"true"},null,512),[[g,i.voucher]])]),t("div",q,[t("div",F,[t("button",{type:"submit",onClick:o[3]||(o[3]=(...s)=>r.getVoucherDetail&&r.getVoucherDetail(...s))},d(e.$t("common.submit")),1)])])])],32)]))])])])],64)}const x=p(y,[["render",I]]);export{x as default};
