import{_ as u,d as o,u as m,C as c,H as f,r as _,o as h,c as y,a as g,b as r,i as R,v as b,F as D}from"./index-c90b3eca.js";import{e as v}from"./main-4c29dc29.js";const i={"X-Member-Details":o.defaults.headers.common["X-Member-Details"]},x={data(){return{title:"",description:"",qr_code:"",referrar_link:"",startDate:null,endDate:null,format:"yyyy-MM-dd"}},created(){const{t}=m();this.title=t("title.referrer"),this.description=t("title.referrer_description"),o.defaults.headers.common["X-Member-Details"]=c.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(c.enc.Utf8),this.getReferrerRebateQRDetails()},methods:{getReferrerList:function(t){o.get("GetReferrerList",{},{headers:i}).then(e=>{e.data.ResponseCode=="0"&&console.log(e.data)}).catch(e=>{console.error(e)})},getReferrerRebateQRDetails:function(t){o.get("GetReferrerRebateQRDetails",{},{headers:i}).then(e=>{e.data.ResponseCode=="0"&&(this.referrar_link=e.data.QrCodeLink,this.qr_code="data:image/png;base64,"+e.data.QrCodeImageBase64)}).catch(e=>{console.error(e)})},searchRebateData(){if(this.startDate==null||this.endDate==null)return alert("The field is required");o.post("GetReferrerRebateReport",{FromDate:this.startDate,ToDate:this.endDate},{headers:i}).then(t=>{console.log(t.data),t.data.ResponseCode=="0"}).catch(t=>{console.error(t)})},copy(){let t=document.querySelector("#testing-code");t.setAttribute("type","text"),t.select();try{var e=document.execCommand("copy"),n=e?"successful":"unsuccessful";alert("Copied "+n)}catch{alert("Oops, unable to copy")}t.setAttribute("type","hidden"),window.getSelection().removeAllRanges()}},components:{Header:f,VueDatePicker:v}},C={class:"form-01-main"},k={class:"form-cover"},w={class:"form-sub-main",style:{"max-width":"1000px"}},M=["src"],S={style:{position:"relative"}},q=["value"];function Q(t,e,n,d,s,l){const p=_("Header");return h(),y(D,null,[g(p,{title:s.title,description:s.description},null,8,["title","description"]),r("section",C,[r("div",k,[r("div",w,[r("img",{src:s.qr_code,style:{width:"300px",height:"300px"},alt:""},null,8,M),r("div",S,[R(r("input",{class:"form-control _ge_de_ol",ref:"message",style:{color:"black","max-width":"1000px"},type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.referrar_link=a),disabled:""},null,512),[[b,s.referrar_link]]),r("button",{class:"copy_button",onClick:e[1]||(e[1]=(...a)=>l.copy&&l.copy(...a))},"Copy")])]),r("input",{type:"hidden",id:"testing-code",value:s.referrar_link},null,8,q)])])],64)}const H=u(x,[["render",Q]]);export{H as default};
