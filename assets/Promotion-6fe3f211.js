import{_ as P,d,u as x,C as p,H as A,r as _,o as n,c as l,a,w as c,b as e,F as h,h as g,g as f,t as b}from"./index-b6bcca9f.js";let y={"X-Member-Details":d.defaults.headers.common["X-Member-Details"]};const D={data(){return{title:"",description:"",promotionList:{},promotionCategory:{},selectedArticle:null,detail:"",title:"",centerDialogVisible:!1}},created(){const{t:o}=x();this.title=o("title.promotion"),this.description=o("title.promotion_description"),this.getPromotion(),this.getPromotionCategoryList(),d.defaults.headers.common["X-Member-Details"]=p.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(p.enc.Utf8)},methods:{getPromotion:function(o){d.get("GetPromotionNews",{},{headers:y}).then(t=>{t.data.ResponseCode=="0"&&(this.promotionList=t.data.PromotionNewsList)}).catch(t=>{console.error(t)})},getPromotionCategoryList:function(o){d.get("GetPromotionCategoryList",{},{headers:y}).then(t=>{t.data.ResponseCode=="0"&&(this.promotionCategory=t.data.PromotionCategoryList)}).catch(t=>{console.error(t)})},filterArticle(o){this.selectedArticle=o},showAll(){this.selectedArticle=null},viewDetail(o){this.promotionList.forEach(t=>{t.ParentId===o&&(this.detail=t.Content,this.title=t.Title,this.centerDialogVisible=!0)})}},computed:{filteredArticles(){return this.selectedArticle?this.promotionList.filter(t=>{if(t.CategoryType.match(this.selectedArticle.toString())!=null)return!0}):this.promotionList}},components:{Header:A}},L=["innerHTML"],V={class:"dialog-footer"},S={class:"py-5"},T={class:"container px-4 px-lg-5 mt-5"},H={class:"row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center"},I=e("h5",{class:"fw-bolder btn btn-outline-dark mt-auto"},"Show All",-1),N=[I],M=["onClick"],B={class:"card"},E={class:"fw-bolder btn btn-outline-dark mt-auto"},X={class:"card h-100"},F=["src"],G={class:"card-body p-4"},R={class:"text-center"},U={class:"fw-bolder"},j={class:"card-footer p-4 pt-0 border-top-0 bg-transparent"},J={class:"text-center"},K=["onClick"];function q(o,t,C,z,s,r){const v=_("Header"),u=_("el-button"),w=_("el-dialog");return n(),l(h,null,[a(v,{title:s.title,description:s.description},null,8,["title","description"]),a(w,{modelValue:s.centerDialogVisible,"onUpdate:modelValue":t[2]||(t[2]=i=>s.centerDialogVisible=i),title:s.title,width:"60%",center:""},{footer:c(()=>[e("span",V,[a(u,{onClick:t[0]||(t[0]=i=>s.centerDialogVisible=!1)},{default:c(()=>[f("Cancel")]),_:1}),a(u,{type:"primary",onClick:t[1]||(t[1]=i=>s.centerDialogVisible=!1)},{default:c(()=>[f(" Confirm ")]),_:1})])]),default:c(()=>[e("div",{innerHTML:s.detail,style:{margin:"auto"}},null,8,L)]),_:1},8,["modelValue","title"]),e("section",S,[e("div",T,[e("div",H,[e("div",null,[e("div",{class:"card",onClick:t[3]||(t[3]=i=>r.showAll(o.category))},N),(n(!0),l(h,null,g(s.promotionCategory,(i,m)=>(n(),l("div",{key:m,onClick:k=>r.filterArticle(i.ParentId)},[e("div",B,[e("h5",E,b(i.CategoryName),1)])],8,M))),128))]),(n(!0),l(h,null,g(r.filteredArticles,(i,m)=>(n(),l("div",{class:"col mb-5",key:m},[e("div",X,[e("img",{class:"card-img-top",src:i.Image,alt:"{{ item.Title }}"},null,8,F),e("div",G,[e("div",R,[e("h5",U,b(i.Title),1)])]),e("div",j,[e("div",J,[e("a",{class:"btn btn-outline-dark mt-auto",onClick:k=>r.viewDetail(i.ParentId)},"View Promotion",8,K)])])])]))),128))])])])],64)}const Q=P(D,[["render",q]]);export{Q as default};
