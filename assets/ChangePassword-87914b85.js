import{_ as f,d as i,C as c,L as p,r,o as h,c as g,a as t,b as s,t as m,w as b,F as P}from"./index-f2972f44.js";const v={data(){return{new_password:"",loading:!1,headers:{"X-Member-Details":i.defaults.headers.common["X-Member-Details"]}}},created(){i.defaults.headers.common["X-Member-Details"]=c.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(c.enc.Utf8)},methods:{updatePassword(e){this.loading=!0,i.post("ChangeUserPassword",{OldPassword:e.old_password,NewPassword:e.new_password},this.headers).then(o=>{o.data.ResponseCode=="0"&&alert(o.data.ResponseMessage)}).catch(o=>{console.error(o)}).finally(o=>{this.loading=!1})},validateOldPassword(e){return e?!0:"This field is required"},validateNewPassword(e){return e?!0:"This field is required"},validateConfirmPassword(e){return e?e!=this.new_password?"This field must be same with Password":!0:"This field is required"}},components:{Loading:p}},y={class:"py-5"},C={class:"container px-5"},x={class:"bg-light rounded-3 py-5 px-4 px-md-5 mb-5"},E={class:"text-center mb-5"},F=s("div",{class:"feature bg-dark bg-gradient text-white rounded-3 mb-3"},[s("i",{class:"bi bi-key"})],-1),N={class:"fw-bolder"},S={class:"row gx-5 justify-content-center"},M={class:"col-lg-8 col-xl-6"},k={class:"form-floating mb-3"},D=s("label",{for:"name"},"Old Password",-1),O={class:"form-floating mb-3"},V=s("label",{for:"name"},"New Password",-1),B={class:"form-floating mb-3"},L=s("label",{for:"name"},"Confirm Password",-1),T={class:"d-grid"},q={class:"btn btn-dark btn-lg",id:"submitButton"};function U(e,o,X,R,d,a){const _=r("Loading"),n=r("Field"),l=r("ErrorMessage"),w=r("Form");return h(),g(P,null,[t(_,{loading:d.loading},null,8,["loading"]),s("section",y,[s("div",C,[s("div",x,[s("div",E,[F,s("h1",N,m(e.$t("title.password")),1)]),s("div",S,[s("div",M,[t(w,{onSubmit:a.updatePassword,id:"passwordForm"},{default:b(()=>[s("div",k,[t(n,{class:"form-control _ge_de_ol",name:"old_password",type:"password",placeholder:"Enter Old Passowrd",rules:a.validateOldPassword,autocomplete:"off"},null,8,["rules"]),D,t(l,{name:"old_password",style:{color:"red"}})]),s("div",O,[t(n,{class:"form-control _ge_de_ol",modelValue:d.new_password,"onUpdate:modelValue":o[0]||(o[0]=u=>d.new_password=u),name:"new_password",type:"password",rules:a.validateNewPassword,placeholder:"Enter New Password",autocomplete:"off"},null,8,["modelValue","rules"]),V,t(l,{name:"new_password",style:{color:"red"}})]),s("div",B,[t(n,{class:"form-control _ge_de_ol",name:"confirm_password",type:"password",rules:a.validateConfirmPassword,placeholder:"Enter Confirm Password",autocomplete:"off"},null,8,["rules"]),L,t(l,{name:"confirm_password",style:{color:"red"}})]),s("div",T,[s("button",q,m(e.$t("common.submit")),1)])]),_:1},8,["onSubmit"])])])])])])],64)}const A=f(v,[["render",U]]);export{A as default};
