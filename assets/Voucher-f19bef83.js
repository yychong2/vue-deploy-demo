import{_ as p,d as r,C as h,r as c,o as a,c as n,b as e,t as d,f as v,a as l,w as g}from"./index-f5b5ef82.js";let m={"X-Member-Details":r.defaults.headers.common["X-Member-Details"]};const V={data(){return{voucher:"",afterResult:!1,detail:""}},created(){r.defaults.headers.common["X-Member-Details"]=h.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(h.enc.Utf8)},methods:{submitVoucher(){r.post("ClaimVoucher",{VoucherCode:this.voucher},{headers:m}).then(t=>{t.data.ResponseCode=="0"&&(alert(t.data.ResponseMessage),this.afterResult=!1)}).catch(t=>{console.error(t)})},getVoucherDetail(t){r.post("GetVoucherDetailByVoucherCode",{VoucherCode:t.voucher},{headers:m}).then(o=>{o.data.ResponseCode=="0"&&(this.detail=o.data.VoucherDetail.Content,this.voucher=t.voucher,this.afterResult=!0)}).catch(o=>{console.error(o)})},validateVoucher(t){return t?!0:"This field is required"}},components:{}},y={class:"py-5"},C={class:"container px-5"},x={class:"bg-light rounded-3 py-5 px-4 px-md-5 mb-5"},D={class:"text-center mb-5"},M=e("div",{class:"feature bg-dark bg-gradient text-white rounded-3 mb-3"},[e("i",{class:"bi bi-credit-card"})],-1),k={class:"fw-bolder"},w={class:"row gx-5 justify-content-center"},S={class:"col-lg-8 col-xl-6"},R={key:0,style:{"margin-top":"80px",color:"white"}},B=["innerHTML"],E={class:"form-sub-main"},F={class:"form-group"},T={class:"d-grid"},X={key:1},H={class:"form-floating mb-3"},L=e("label",{for:"name"},"Voucher",-1),N={class:"d-grid"},j={class:"btn btn-dark btn-lg",id:"submitButton"};function q(t,o,A,G,u,s){const _=c("Field"),f=c("ErrorMessage"),b=c("Form");return a(),n("section",y,[e("div",C,[e("div",x,[e("div",D,[M,e("h1",k,d(t.$t("title.voucher")),1)]),e("div",w,[e("div",S,[u.afterResult?(a(),n("div",R,[e("div",{innerHTML:u.detail,style:{width:"50%",margin:"auto"}},null,8,B),e("form",{onSubmit:o[1]||(o[1]=v((...i)=>t.submitConfirmVoucher&&t.submitConfirmVoucher(...i),["prevent"]))},[e("div",E,[e("div",F,[e("div",T,[e("button",{class:"btn btn-dark btn-lg",onClick:o[0]||(o[0]=(...i)=>s.submitVoucher&&s.submitVoucher(...i))},d(t.$t("common.submit")),1)])])])],32)])):(a(),n("div",X,[l(b,{onSubmit:s.getVoucherDetail,id:"voucherForm"},{default:g(()=>[e("div",H,[l(_,{class:"form-control _ge_de_ol",name:"voucher",type:"text",placeholder:"Enter Voucher",rules:s.validateVoucher,autocomplete:"off"},null,8,["rules"]),L,l(f,{name:"voucher",style:{color:"red"}})]),e("div",N,[e("button",j,d(t.$t("common.submit")),1)])]),_:1},8,["onSubmit"])]))])])])])])}const J=p(V,[["render",q]]);export{J as default};
