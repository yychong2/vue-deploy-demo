import{_,d as o,u as p,C as c,H as m,r as f,o as h,c as g,a as y,b as r,h as b,v as R,F as D}from"./index-fd8bbd92.js";import{e as v}from"./main-35785c9d.js";const n={"X-Member-Details":o.defaults.headers.common["X-Member-Details"]},x={data(){return{title:"",description:"",qr_code:"",referrar_link:"",startDate:null,endDate:null,format:"yyyy-MM-dd"}},created(){const{t}=p();this.title=t("title.referrer"),this.description=t("title.referrer_description"),o.defaults.headers.common["X-Member-Details"]=c.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(c.enc.Utf8),this.getReferrerRebateQRDetails()},methods:{getReferrerList:function(t){o.get("GetReferrerList",{},{headers:n}).then(e=>{e.data.ResponseCode=="0"&&console.log(e.data)}).catch(e=>{console.error(e)})},getReferrerRebateQRDetails:function(t){o.get("GetReferrerRebateQRDetails",{},{headers:n}).then(e=>{e.data.ResponseCode=="0"&&(this.referrar_link=e.data.QrCodeLink,this.qr_code="data:image/png;base64,"+e.data.QrCodeImageBase64)}).catch(e=>{console.error(e)})},searchRebateData(){if(this.startDate==null||this.endDate==null)return alert("The field is required");o.post("GetReferrerRebateReport",{FromDate:this.startDate,ToDate:this.endDate},{headers:n}).then(t=>{console.log(t.data),t.data.ResponseCode=="0"}).catch(t=>{console.error(t)})},copy(){let t=document.querySelector("#testing-code");t.setAttribute("type","text"),t.select();try{var e=document.execCommand("copy"),i=e?"successful":"unsuccessful";alert("Copied "+i)}catch{alert("Oops, unable to copy")}t.setAttribute("type","hidden"),window.getSelection().removeAllRanges()}},components:{Header:m,VueDatePicker:v}},C={class:"py-5"},k={class:"container px-5"},q={class:"bg-light rounded-3 py-5 px-4 px-md-5 mb-5"},M={class:"row gx-5 justify-content-center"},S={class:"col-lg-8 col-xl-8"},w={class:"qr_board"},Q=["src"],A=r("hr",{class:"mt-0 mb-4"},null,-1),B=["value"];function H(t,e,i,d,s,l){const u=f("Header");return h(),g(D,null,[y(u,{title:s.title,description:s.description},null,8,["title","description"]),r("section",C,[r("div",k,[r("div",q,[r("div",M,[r("div",S,[r("div",w,[r("img",{class:"qr_code",src:s.qr_code,alt:""},null,8,Q)]),r("div",null,[b(r("input",{class:"form-control _ge_de_ol",ref:"message",style:{color:"black","max-width":"1000px"},type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.referrar_link=a),disabled:""},null,512),[[R,s.referrar_link]])]),A,r("button",{class:"btn btn-dark btn-lg",onClick:e[1]||(e[1]=(...a)=>l.copy&&l.copy(...a))},"Copy"),r("input",{type:"hidden",id:"testing-code",value:s.referrar_link},null,8,B)])])])])])],64)}const F=_(x,[["render",H]]);export{F as default};
