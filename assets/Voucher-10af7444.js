import{_ as b,d as c,u as V,C as d,H as g,r as i,o as l,c as u,a as n,b as t,e as y,t as m,w as C,F as D}from"./index-c5f78fe8.js";let h={"X-Member-Details":c.defaults.headers.common["X-Member-Details"]};const M={data(){return{title:"",description:"",voucher:"",afterResult:!1,detail:""}},created(){const{t:e}=V();this.title=e("title.voucher"),this.description=e("title.voucher_description"),c.defaults.headers.common["X-Member-Details"]=d.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(d.enc.Utf8)},methods:{submitVoucher(){c.post("ClaimVoucher",{VoucherCode:this.voucher},{headers:h}).then(e=>{e.data.ResponseCode=="0"&&(alert(e.data.ResponseMessage),this.afterResult=!1)}).catch(e=>{console.error(e)})},getVoucherDetail(e){c.post("GetVoucherDetailByVoucherCode",{VoucherCode:e.voucher},{headers:h}).then(o=>{o.data.ResponseCode=="0"&&(this.detail=o.data.VoucherDetail.Content,this.voucher=e.voucher,this.afterResult=!0)}).catch(o=>{console.error(o)})},validateVoucher(e){return e?!0:"This field is required"}},components:{Header:g}},S={class:"form-01-main"},R={class:"form-cover"},F={class:"container"},H={key:0,style:{"margin-top":"80px",color:"white"}},k=["innerHTML"],w={class:"form-sub-main"},E={class:"form-group"},B={class:"btn_uy"},x={key:1},T={class:"form-sub-main"},X={class:"form-group"},I={class:"form-group"},L={class:"btn_uy"};function N(e,o,q,A,s,r){const _=i("Header"),f=i("Field"),p=i("ErrorMessage"),v=i("Form");return l(),u(D,null,[n(_,{title:s.title,description:s.description},null,8,["title","description"]),t("section",S,[t("div",R,[t("div",F,[s.afterResult?(l(),u("div",H,[t("div",{innerHTML:s.detail,style:{width:"50%",margin:"auto"}},null,8,k),t("form",{onSubmit:o[1]||(o[1]=y((...a)=>e.submitConfirmVoucher&&e.submitConfirmVoucher(...a),["prevent"]))},[t("div",w,[t("div",E,[t("div",B,[t("button",{type:"submit",onClick:o[0]||(o[0]=(...a)=>r.submitVoucher&&r.submitVoucher(...a))},m(e.$t("common.submit")),1)])])])],32)])):(l(),u("div",x,[n(v,{onSubmit:r.getVoucherDetail},{default:C(()=>[t("div",T,[t("div",X,[n(f,{class:"form-control _ge_de_ol",name:"voucher",type:"text",placeholder:"Enter Voucher",rules:r.validateVoucher,autocomplete:"off"},null,8,["rules"]),n(p,{name:"voucher",style:{color:"red"}})]),t("div",I,[t("div",L,[t("button",null,m(e.$t("common.submit")),1)])])])]),_:1},8,["onSubmit"])]))])])])],64)}const J=b(M,[["render",N]]);export{J as default};
