import{_ as x,d as m,C as k,L as B,r as a,o as d,c as i,a as n,b as s,t as v,w as c,F as u,f as h,g as f}from"./index-09c2119b.js";let L={"X-Member-Details":m.defaults.headers.common["X-Member-Details"]};const V={data(){return{promotionResult:!1,operatorBankAccountList:{},productList:[],promotionList:[],productPromotionList:[],bank_selected:"",product_selected:"",promotion_selected:"",product_promotion_selected:"",loading:!1}},created(){m.defaults.headers.common["X-Member-Details"]=k.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(k.enc.Utf8),this.GetDepositDetails()},methods:{GetDepositDetails:function(r){m.get("GetDepositDetails",{},{headers:L}).then(o=>{o.data.ResponseCode=="0"&&(this.operatorBankAccountList=o.data.OperatorBankAccountList,o.data.ProductList.length>0&&(this.productList.push({ProductName:"Please select",Id:"",ProductCode:""}),o.data.ProductList.forEach(t=>{this.productList.push({ProductName:t.ProductName,ProductCode:t.Id,Id:t.Id})})),o.data.PromotionList.length>0&&(this.promotionList.push({Title:"Please select",Id:""}),o.data.PromotionList.forEach(t=>{this.promotionList.push({Title:t.Title,Id:t.Id})})))}).catch(o=>{console.error(o)})},onSubmit(r){const o=this.product_selected;this.loading=!0,m.post("Deposit",{DepositBankId:this.bank_selected,DepositBankCode:"",DepositAmount:r.amount_deposit,ProductId:this.product_selected,ProductCode:o,ProductPromotionId:this.product_promotion_selected,PromotionId:this.promotion_selected,PromotionCode:""},{headers:L}).then(t=>{t.data.ResponseCode=="0"&&alert(t.data.ResponseMessage)}).catch(t=>{console.error(t)}).finally(t=>{this.loading=!1})},onChange(r){const o=[];this.productList.forEach(t=>{t.ProductCode===r&&o.push(t)}),m.post("GetProductPromoList",{ProductId:o[0].Id,ProductCode:o[0].ProductCode,IsLaunchGame:!0},{headers:L}).then(t=>{t.data.ResponseCode=="0"&&(this.productPromotionList=[],t.data.ProductPromotionList.length>0?(this.productPromotionList.push({Title:"Please select",Id:""}),t.data.ProductPromotionList.forEach(g=>{this.productPromotionList.push({Title:g.Title,Id:g.Id})}),this.promotion_selected="",this.promotionResult=!0):(this.product_promotion_selected="",this.promotionResult=!1))}).catch(t=>{console.error(t)})},validateDepositAmount(r){return r?!0:"This field is required"}},components:{Loading:B}},A={class:"py-5"},E={class:"container px-5"},N={class:"bg-light rounded-3 py-5 px-4 px-md-5 mb-5"},S={class:"text-center mb-5"},T=s("div",{class:"feature bg-dark bg-gradient text-white rounded-3 mb-3"},[s("i",{class:"bi bi-cash"})],-1),R={class:"fw-bolder"},F={class:"row gx-5 justify-content-center"},M={class:"col-lg-8 col-xl-6"},q={class:"form-floating mb-3"},w={class:"form-group"},G=s("span",{style:{color:"black"}},"Bank Name",-1),U={class:"form-floating mb-3"},X={class:"form-group"},j=s("span",{style:{color:"black"}},"Product Name",-1),J={key:0,class:"form-floating mb-3"},K={class:"form-group"},O=s("span",{style:{color:"black"}},"Product Promotion",-1),z={key:1,class:"form-floating mb-3"},H={class:"form-group"},Q=s("span",{style:{color:"black"}},"Promotion",-1),W={class:"form-floating mb-3"},Y={class:"d-grid"},Z={class:"btn btn-dark btn-lg",id:"submitButton"};function $(r,o,t,g,l,b){const I=a("Loading"),_=a("el-option"),p=a("el-select"),y=a("Field"),C=a("ErrorMessage"),D=a("Form");return d(),i(u,null,[n(I,{loading:l.loading},null,8,["loading"]),s("section",A,[s("div",E,[s("div",N,[s("div",S,[T,s("h1",R,v(r.$t("title.deposit")),1)]),s("div",F,[s("div",M,[n(D,{onSubmit:b.onSubmit},{default:c(()=>[s("div",q,[s("div",w,[G,n(p,{class:"form-control2 _ge_de_ol",modelValue:l.bank_selected,"onUpdate:modelValue":o[0]||(o[0]=e=>l.bank_selected=e),placeholder:"Please select","aria-required":"true"},{default:c(()=>[(d(!0),i(u,null,h(l.operatorBankAccountList,(e,P)=>(d(),f(_,{label:e.BankName,key:e.BankId,value:e.BankId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),s("div",U,[s("div",X,[j,n(p,{class:"form-control2 _ge_de_ol",modelValue:l.product_selected,"onUpdate:modelValue":o[1]||(o[1]=e=>l.product_selected=e),onChange:b.onChange,placeholder:"Please select","aria-required":"true"},{default:c(()=>[(d(!0),i(u,null,h(l.productList,(e,P)=>(d(),f(_,{label:e.ProductName,key:e.ProductCode,value:e.ProductCode},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])])]),l.promotionResult?(d(),i("div",J,[s("div",K,[O,n(p,{class:"form-control2 _ge_de_ol",modelValue:l.product_promotion_selected,"onUpdate:modelValue":o[2]||(o[2]=e=>l.product_promotion_selected=e),placeholder:"Please select","aria-required":"true"},{default:c(()=>[(d(!0),i(u,null,h(l.productPromotionList,(e,P)=>(d(),f(_,{label:e.Title,key:e.Id,value:e.Id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):(d(),i("div",z,[s("div",H,[Q,n(p,{class:"form-control2 _ge_de_ol",modelValue:l.promotion_selected,"onUpdate:modelValue":o[3]||(o[3]=e=>l.promotion_selected=e),placeholder:"Please select","aria-required":"true"},{default:c(()=>[(d(!0),i(u,null,h(l.promotionList,(e,P)=>(d(),f(_,{label:e.Title,key:e.Id,value:e.Id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])),s("div",W,[n(y,{class:"form-control2 _ge_de_ol",name:"amount_deposit",style:{color:"black"},type:"text",inputmode:"numeric",pattern:"/d+",placeholder:"Enter Deposit Amount",rules:b.validateDepositAmount,autocomplete:"off"},null,8,["rules"]),n(C,{name:"amount_deposit",style:{color:"red"}})]),s("div",Y,[s("button",Z,v(r.$t("common.submit")),1)])]),_:1},8,["onSubmit"])])])])])])],64)}const eo=x(V,[["render",$]]);export{eo as default};
