import{_ as v,d,u as A,C as k,H as L,r as i,o as r,c as u,a as l,b as o,w as m,F as p,f as D,g,t as y}from"./index-d8fd8061.js";let _={"X-Member-Details":d.defaults.headers.common["X-Member-Details"]};const G={data(){return{title:"",description:"",operatorBankAccountList:{},promotionList:[],bank_selected:"",promotion_selected:""}},created(){const{t}=A();this.title=t("title.deposit"),this.description=t("title.deposit_description"),d.defaults.headers.common["X-Member-Details"]=k.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(k.enc.Utf8),this.GetDepositDetails()},methods:{GetDepositDetails:function(t){d.get("GetPGDepositDetails",{},{headers:_}).then(e=>{e.data.ResponseCode=="0"&&(this.operatorBankAccountList=e.data.OperatorBankAccountList,e.data.PromotionList.length>0&&(this.promotionList.push({Title:"Please select",Id:""}),e.data.PromotionList.forEach(s=>{this.promotionList.push({Title:s.Title,Id:s.Id})})))}).catch(e=>{console.error(e)})},GetBankCodeDetails(t){const e=[];this.operatorBankAccountList.forEach(s=>{s.BankId===t&&e.push(s)}),d.post("GetPgBankDetails",{DepositBankId:t,DepositBankCode:e[0].BankCode,DepositAmount:"",ProductId:"",ProductCode:"",ProductPromotionId:"",PromotionId:"",PromotionCode:""},{headers:_}).then(s=>{console.log(s.data),s.data.ResponseCode=="0"&&console.log(s.data)}).catch(s=>{console.error(s)})},onSubmit(t){this.product_selected,d.post("PgDeposit",{DepositBankId:this.bank_selected,DepositBankCode:"",DepositAmount:t.amount_deposit,ProductId:"",ProductCode:"",ProductPromotionId:"",PromotionId:this.promotion_selected,PromotionCode:""},{headers:_}).then(e=>{console.log(e.data),e.data.ResponseCode=="0"&&alert(e.data.ResponseMessage)}).catch(e=>{console.error(e)})},validateDepositAmount(t){return t?!0:"This field is required"}},components:{Header:L}},S={class:"form-01-main"},x={class:"form-cover"},V={class:"container"},E={class:"form-sub-main"},F={class:"form-group"},M=o("span",null,"Bank Name",-1),T={class:"form-group"},H=o("span",null,"Promotion",-1),N={class:"form-group"},R=o("span",null,"Deposit Amount",-1),q={class:"form-group"},U={class:"btn_uy"};function X(t,e,s,w,a,c){const P=i("Header"),h=i("el-option"),f=i("el-select"),B=i("Field"),b=i("ErrorMessage"),C=i("Form");return r(),u(p,null,[l(P,{title:a.title,description:a.description},null,8,["title","description"]),o("section",S,[o("div",x,[o("div",V,[l(C,{onSubmit:c.onSubmit},{default:m(()=>[o("div",E,[o("div",F,[M,l(f,{class:"form-control2 _ge_de_ol",modelValue:a.bank_selected,"onUpdate:modelValue":e[0]||(e[0]=n=>a.bank_selected=n),onChange:c.GetBankCodeDetails,placeholder:"Please select","aria-required":"true"},{default:m(()=>[(r(!0),u(p,null,D(a.operatorBankAccountList,(n,I)=>(r(),g(h,{label:n.BankName,key:n.BankId,value:n.BankId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),o("div",T,[H,l(f,{class:"form-control2 _ge_de_ol",modelValue:a.promotion_selected,"onUpdate:modelValue":e[1]||(e[1]=n=>a.promotion_selected=n),placeholder:"Please select","aria-required":"true"},{default:m(()=>[(r(!0),u(p,null,D(a.promotionList,(n,I)=>(r(),g(h,{label:n.Title,key:n.Id,value:n.Id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),o("div",N,[R,l(B,{class:"form-control2 _ge_de_ol",name:"amount_deposit",type:"text",inputmode:"numeric",pattern:"/d+",placeholder:"Enter Deposit Amount",rules:c.validateDepositAmount,autocomplete:"off"},null,8,["rules"]),l(b,{name:"amount_deposit",style:{color:"red"}})]),o("div",q,[o("div",U,[o("button",null,y(t.$t("common.submit")),1)])])])]),_:1},8,["onSubmit"])])])])],64)}const K=v(G,[["render",X]]);export{K as default};
