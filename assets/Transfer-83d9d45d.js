import{_ as C,d as l,u as y,C as b,H as M,r as c,o as n,c as u,a as m,b as s,e as A,w as g,g as F,v as V,t as D,F as p,h as T,i as L}from"./index-f461efc9.js";let f={"X-Member-Details":l.defaults.headers.common["X-Member-Details"]};const S={data(){return{title:"",description:"",productFrom:"",productTo:"",productList:[],productListTo:[],transferAmount:""}},created(){const{t:e}=y();this.title=e("title.transfer"),this.description=e("title.transfer_description"),l.defaults.headers.common["X-Member-Details"]=b.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(b.enc.Utf8),this.GetProductWalletFrom()},methods:{GetProductWalletFrom(){l.get("GetProductWalletDetails",{},{headers:f}).then(e=>{if(e.data.ResponseCode=="0")for(let t=0;t<e.data.ProductList.length;t++)(e.data.ProductList[t].IsMaintenance==!1||e.data.ProductList[t].IsDrop==!1)&&this.getProductBalance(e.data.ProductList[t].ProductCode,e.data.ProductList[t].IsSeamless,e.data.ProductList[t].IsMaintenance).then(a=>{this.productList.push({name:e.data.ProductList[t].ProductName+" - "+a,code:e.data.ProductList[t].ProductCode})})}).catch(e=>{console.error(e)})},onChange(e){this.productListTo=[];for(let t=0;t<this.productList.length;t++)e!=this.productList[t].code&&this.productListTo.push({name:this.productList[t].name,code:this.productList[t].code});this.productTo=""},submitTransfer(){l.post("Transfer",{TransferFrom:this.productFrom,TransferTo:this.productTo,TransferAmount:this.transferAmount},{headers:f}).then(e=>{e.data.ResponseCode=="0"&&alert(e.data.ResponseMessage)}).catch(e=>{console.error(e)})},async getProductBalance(e,t,d){const a=await l.post("GetBalance?productCode="+e+"&isSeamless="+t+"&isMaintenance="+d,{},{headers:f});return a.data=="9999"||a.data=="null"?"Maintanence":a.data}},components:{Header:M}},B={class:"form-01-main"},k={class:"form-cover"},x={class:"container"},I={class:"form-sub-main"},w={class:"form-group"},G={class:"form-group"},H={class:"form-group"},U={class:"form-group"},E={class:"btn_uy"};function N(e,t,d,a,r,i){const v=c("Header"),h=c("el-option"),_=c("el-select");return n(),u(p,null,[m(v,{title:r.title,description:r.description},null,8,["title","description"]),s("section",B,[s("div",k,[s("div",x,[s("form",{onSubmit:t[4]||(t[4]=A((...o)=>e.submitTransferAmount&&e.submitTransferAmount(...o),["prevent"]))},[s("div",I,[s("div",w,[m(_,{class:"form-control _ge_de_ol",modelValue:r.productFrom,"onUpdate:modelValue":t[0]||(t[0]=o=>r.productFrom=o),onChange:i.onChange,clearable:"",placeholder:"Please select"},{default:g(()=>[(n(!0),u(p,null,T(r.productList,(o,P)=>(n(),L(h,{label:o.name,key:o.code,value:o.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),s("div",G,[m(_,{class:"form-control _ge_de_ol",clearable:"",filterable:"",modelValue:r.productTo,"onUpdate:modelValue":t[1]||(t[1]=o=>r.productTo=o),placeholder:"Please select"},{default:g(()=>[(n(!0),u(p,null,T(r.productListTo,(o,P)=>(n(),L(h,{label:o.name,key:o.code,value:o.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),s("div",H,[F(s("input",{class:"form-control _ge_de_ol","onUpdate:modelValue":t[2]||(t[2]=o=>r.transferAmount=o),type:"text",placeholder:"Enter Transfer Amount",required:""},null,512),[[V,r.transferAmount]])]),s("div",U,[s("div",E,[s("button",{type:"submit",onClick:t[3]||(t[3]=(...o)=>i.submitTransfer&&i.submitTransfer(...o))},D(e.$t("common.submit")),1)])])])],32)])])])],64)}const W=C(S,[["render",N]]);export{W as default};
