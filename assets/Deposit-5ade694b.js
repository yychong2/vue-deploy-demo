import{_ as y,d as p,u as B,C as b,H as V,r as c,o as d,c as i,a as n,b as s,w as a,F as u,f as h,g as f,t as x}from"./index-c5f78fe8.js";let I={"X-Member-Details":p.defaults.headers.common["X-Member-Details"]};const A={data(){return{title:"",description:"",promotionResult:!1,operatorBankAccountList:{},productList:[],promotionList:[],productPromotionList:[],bank_selected:"",product_selected:"",promotion_selected:"",product_promotion_selected:""}},created(){const{t:l}=B();this.title=l("title.deposit"),this.description=l("title.deposit_description"),p.defaults.headers.common["X-Member-Details"]=b.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(b.enc.Utf8),this.GetDepositDetails()},methods:{GetDepositDetails:function(l){p.get("GetDepositDetails",{},{headers:I}).then(e=>{e.data.ResponseCode=="0"&&(this.operatorBankAccountList=e.data.OperatorBankAccountList,e.data.ProductList.length>0&&(this.productList.push({ProductName:"Please select",Id:"",ProductCode:""}),e.data.ProductList.forEach(t=>{this.productList.push({ProductName:t.ProductName,ProductCode:t.Id,Id:t.Id})})),e.data.PromotionList.length>0&&(this.promotionList.push({Title:"Please select",Id:""}),e.data.PromotionList.forEach(t=>{this.promotionList.push({Title:t.Title,Id:t.Id})})))}).catch(e=>{console.error(e)})},onSubmit(l){const e=this.product_selected;p.post("Deposit",{DepositBankId:this.bank_selected,DepositBankCode:"",DepositAmount:l.amount_deposit,ProductId:this.product_selected,ProductCode:e,ProductPromotionId:this.product_promotion_selected,PromotionId:this.promotion_selected,PromotionCode:""},{headers:I}).then(t=>{t.data.ResponseCode=="0"&&alert(t.data.ResponseMessage)}).catch(t=>{console.error(t)})},onChange(l){const e=[];this.productList.forEach(t=>{t.ProductCode===l&&e.push(t)}),p.post("GetProductPromoList",{ProductId:e[0].Id,ProductCode:e[0].ProductCode,IsLaunchGame:!0},{headers:I}).then(t=>{t.data.ResponseCode=="0"&&(this.productPromotionList=[],t.data.ProductPromotionList.length>0?(this.productPromotionList.push({Title:"Please select",Id:""}),t.data.ProductPromotionList.forEach(P=>{this.productPromotionList.push({Title:P.Title,Id:P.Id})}),this.promotion_selected="",this.promotionResult=!0):(this.product_promotion_selected="",this.promotionResult=!1))}).catch(t=>{console.error(t)})},validateDepositAmount(l){return l?!0:"This field is required"}},components:{Header:V}},E={class:"form-01-main"},N={class:"form-cover"},S={class:"container"},T={class:"form-sub-main"},R={class:"form-group"},F=s("span",null,"Bank Name",-1),M={class:"form-group"},q=s("span",null,"Product Name",-1),G={key:0},U={class:"form-group"},H=s("span",null,"Product Promotion",-1),X={key:1},w={class:"form-group"},J=s("span",null,"Promotion",-1),K={class:"form-group"},O=s("span",null,"Deposit Amount",-1),j={class:"form-group"},z={class:"btn_uy"};function Q(l,e,t,P,r,g){const k=c("Header"),m=c("el-option"),_=c("el-select"),C=c("Field"),v=c("ErrorMessage"),D=c("Form");return d(),i(u,null,[n(k,{title:r.title,description:r.description},null,8,["title","description"]),s("section",E,[s("div",N,[s("div",S,[n(D,{onSubmit:g.onSubmit},{default:a(()=>[s("div",T,[s("div",R,[F,n(_,{class:"form-control2 _ge_de_ol",modelValue:r.bank_selected,"onUpdate:modelValue":e[0]||(e[0]=o=>r.bank_selected=o),placeholder:"Please select","aria-required":"true"},{default:a(()=>[(d(!0),i(u,null,h(r.operatorBankAccountList,(o,L)=>(d(),f(m,{label:o.BankName,key:o.BankId,value:o.BankId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),s("div",M,[q,n(_,{class:"form-control2 _ge_de_ol",modelValue:r.product_selected,"onUpdate:modelValue":e[1]||(e[1]=o=>r.product_selected=o),onChange:g.onChange,placeholder:"Please select","aria-required":"true"},{default:a(()=>[(d(!0),i(u,null,h(r.productList,(o,L)=>(d(),f(m,{label:o.ProductName,key:o.ProductCode,value:o.ProductCode},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),r.promotionResult?(d(),i("div",G,[s("div",U,[H,n(_,{class:"form-control2 _ge_de_ol",modelValue:r.product_promotion_selected,"onUpdate:modelValue":e[2]||(e[2]=o=>r.product_promotion_selected=o),placeholder:"Please select","aria-required":"true"},{default:a(()=>[(d(!0),i(u,null,h(r.productPromotionList,(o,L)=>(d(),f(m,{label:o.Title,key:o.Id,value:o.Id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):(d(),i("div",X,[s("div",w,[J,n(_,{class:"form-control2 _ge_de_ol",modelValue:r.promotion_selected,"onUpdate:modelValue":e[3]||(e[3]=o=>r.promotion_selected=o),placeholder:"Please select","aria-required":"true"},{default:a(()=>[(d(!0),i(u,null,h(r.promotionList,(o,L)=>(d(),f(m,{label:o.Title,key:o.Id,value:o.Id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])),s("div",K,[O,n(C,{class:"form-control2 _ge_de_ol",name:"amount_deposit",type:"text",inputmode:"numeric",pattern:"/d+",placeholder:"Enter Deposit Amount",rules:g.validateDepositAmount,autocomplete:"off"},null,8,["rules"]),n(v,{name:"amount_deposit",style:{color:"red"}})]),s("div",j,[s("div",z,[s("button",null,x(l.$t("common.submit")),1)])])])]),_:1},8,["onSubmit"])])])])],64)}const Y=y(A,[["render",Q]]);export{Y as default};
