import{_ as A,d as c,C as p,i as P,r as u,o as l,c as n,a as r,w as a,b as t,F as g,f,j as y,t as _}from"./index-d140495a.js";let C={"X-Member-Details":c.defaults.headers.common["X-Member-Details"]};const V={data(){return{promotionList:{},promotionCategory:{},selectedArticle:null,detail:"",title:"",centerDialogVisible:!1,activeName:"show_all"}},created(){c.defaults.headers.common["X-Member-Details"]=p.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(p.enc.Utf8),this.getPromotion(),this.getPromotionCategoryList()},methods:{getPromotion:function(o){c.get("GetPromotionNews",{},{headers:C}).then(e=>{e.data.ResponseCode=="0"&&(this.promotionList=e.data.PromotionNewsList)}).catch(e=>{console.error(e)})},getPromotionCategoryList:function(o){c.get("GetPromotionCategoryList",{},{headers:C}).then(e=>{e.data.ResponseCode=="0"&&(this.promotionCategory=e.data.PromotionCategoryList)}).catch(e=>{console.error(e)})},filterArticle(o){this.selectedArticle=o},showAll(){this.selectedArticle=null},viewDetail(o){this.promotionList.forEach(e=>{e.ParentId===o&&(this.detail=e.Content,this.title=e.Title,this.centerDialogVisible=!0)})}},computed:{filteredArticles(){return this.selectedArticle?this.promotionList.filter(e=>{if(e.CategoryType.match(this.selectedArticle.toString())!=null)return!0}):this.promotionList}},components:{VLazyImage:P}},D=["innerHTML"],w={class:"dialog-footer"},k={class:"py-5"},x={class:"horizontal-menu plain"},N=t("a",null,"Show All",-1),S=[N],T=["onClick"],I={class:"container px-5 my-5"},M={class:"row gx-5"},z={class:"position-relative mb-5 gameClick"};function B(o,e,v,E,s,d){const h=u("el-button"),b=u("el-dialog"),L=u("v-lazy-image");return l(),n(g,null,[r(b,{modelValue:s.centerDialogVisible,"onUpdate:modelValue":e[2]||(e[2]=i=>s.centerDialogVisible=i),title:s.title,width:"60%",center:""},{footer:a(()=>[t("span",w,[r(h,{onClick:e[0]||(e[0]=i=>s.centerDialogVisible=!1)},{default:a(()=>[y(_(o.$t("common.cancel")),1)]),_:1}),r(h,{type:"primary",onClick:e[1]||(e[1]=i=>s.centerDialogVisible=!1)},{default:a(()=>[y(_(o.$t("common.confirm")),1)]),_:1})])]),default:a(()=>[t("div",{innerHTML:s.detail,style:{margin:"auto"}},null,8,D)]),_:1},8,["modelValue","title"]),t("section",k,[t("nav",x,[t("ul",null,[t("li",{onClick:e[3]||(e[3]=i=>d.showAll(o.category)),class:"active"},S),(l(!0),n(g,null,f(s.promotionCategory,(i,m)=>(l(),n("li",{key:m,onClick:X=>d.filterArticle(i.ParentId)},[t("a",null,_(i.CategoryName),1)],8,T))),128))])]),t("div",I,[t("div",M,[(l(!0),n(g,null,f(d.filteredArticles,(i,m)=>(l(),n("div",{class:"col-lg-6",key:m},[t("div",z,[r(L,{class:"img-fluid rounded-3 mb-3",src:i.Image,alt:"{{ itemPromotion.Title }}"},null,8,["src"])])]))),128))])])])],64)}const G=A(V,[["render",B]]);export{G as default};
