import{_ as y,d as p,u as B,C as L,H as V,r as c,o as n,c as d,a as i,b as s,w as a,F as u,f as h,g as f,t as A}from"./index-d8fd8061.js";let k={"X-Member-Details":p.defaults.headers.common["X-Member-Details"]};const x={data(){return{title:"",description:"",promotionResult:!1,operatorBankAccountList:{},productList:{},promotionList:[],productPromotionList:[],bank_selected:"",product_selected:"",promotion_selected:"",product_promotion_selected:""}},created(){const{t:r}=B();this.title=r("title.deposit"),this.description=r("title.deposit_description"),p.defaults.headers.common["X-Member-Details"]=L.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(L.enc.Utf8),this.GetDepositDetails()},methods:{GetDepositDetails:function(r){p.get("GetDepositDetails",{},{headers:k}).then(o=>{o.data.ResponseCode=="0"&&(this.operatorBankAccountList=o.data.OperatorBankAccountList,this.productList=o.data.ProductList,o.data.PromotionList.length>0&&(this.promotionList.push({Title:"Please select",Id:""}),o.data.PromotionList.forEach(t=>{this.promotionList.push({Title:t.Title,Id:t.Id})})))}).catch(o=>{console.error(o)})},onSubmit(r){const o=this.product_selected;console.log("Bank - "+this.bank_selected),console.log("Product - "+this.product_selected),console.log("Promotion - "+this.promotion_selected),console.log("Product Promotion - "+this.product_promotion_selected),console.log("Amount - "+r.amount_deposit),console.log("Product Code - "+o),p.post("Deposit",{DepositBankId:this.bank_selected,DepositBankCode:"",DepositAmount:r.amount_deposit,ProductId:this.product_selected,ProductCode:o,ProductPromotionId:this.product_promotion_selected,PromotionId:this.promotion_selected,PromotionCode:""},{headers:k}).then(t=>{console.log(t.data),t.data.ResponseCode=="0"&&alert(t.data.ResponseMessage)}).catch(t=>{console.error(t)})},onChange(r){const o=[];this.productList.forEach(t=>{t.ProductCode===r&&o.push(t)}),p.post("GetProductPromoList",{ProductId:o[0].Id,ProductCode:o[0].ProductCode,IsLaunchGame:!0},{headers:k}).then(t=>{t.data.ResponseCode=="0"&&(this.productPromotionList=[],t.data.ProductPromotionList.length>0?(this.productPromotionList.push({Title:"Please select",Id:""}),t.data.ProductPromotionList.forEach(P=>{this.productPromotionList.push({Title:P.Title,Id:P.Id})}),this.product_promotion_selected="",this.promotionResult=!0):(this.promotion_selected="",this.promotionResult=!1))}).catch(t=>{console.error(t)})},validateDepositAmount(r){return r?!0:"This field is required"}},components:{Header:V}},S={class:"form-01-main"},T={class:"form-cover"},E={class:"container"},R={class:"form-sub-main"},F={class:"form-group"},M=s("span",null,"Bank Name",-1),N={class:"form-group"},q=s("span",null,"Product Name",-1),G={key:0},U={class:"form-group"},H=s("span",null,"Product Promotion",-1),X={key:1},w={class:"form-group"},J=s("span",null,"Promotion",-1),K={class:"form-group"},O=s("span",null,"Deposit Amount",-1),j={class:"form-group"},z={class:"btn_uy"};function Q(r,o,t,P,l,g){const v=c("Header"),_=c("el-option"),m=c("el-select"),C=c("Field"),D=c("ErrorMessage"),I=c("Form");return n(),d(u,null,[i(v,{title:l.title,description:l.description},null,8,["title","description"]),s("section",S,[s("div",T,[s("div",E,[i(I,{onSubmit:g.onSubmit},{default:a(()=>[s("div",R,[s("div",F,[M,i(m,{class:"form-control2 _ge_de_ol",modelValue:l.bank_selected,"onUpdate:modelValue":o[0]||(o[0]=e=>l.bank_selected=e),placeholder:"Please select","aria-required":"true"},{default:a(()=>[(n(!0),d(u,null,h(l.operatorBankAccountList,(e,b)=>(n(),f(_,{label:e.BankName,key:e.BankId,value:e.BankId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),s("div",N,[q,i(m,{class:"form-control2 _ge_de_ol",modelValue:l.product_selected,"onUpdate:modelValue":o[1]||(o[1]=e=>l.product_selected=e),onChange:g.onChange,placeholder:"Please select","aria-required":"true"},{default:a(()=>[(n(!0),d(u,null,h(l.productList,(e,b)=>(n(),f(_,{label:e.ProductName,key:e.ProductCode,value:e.ProductCode},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),l.promotionResult?(n(),d("div",G,[s("div",U,[H,i(m,{class:"form-control2 _ge_de_ol",modelValue:l.product_promotion_selected,"onUpdate:modelValue":o[2]||(o[2]=e=>l.product_promotion_selected=e),placeholder:"Please select","aria-required":"true"},{default:a(()=>[(n(!0),d(u,null,h(l.productPromotionList,(e,b)=>(n(),f(_,{label:e.Title,key:e.Id,value:e.Id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):(n(),d("div",X,[s("div",w,[J,i(m,{class:"form-control2 _ge_de_ol",modelValue:l.promotion_selected,"onUpdate:modelValue":o[3]||(o[3]=e=>l.promotion_selected=e),placeholder:"Please select","aria-required":"true"},{default:a(()=>[(n(!0),d(u,null,h(l.promotionList,(e,b)=>(n(),f(_,{label:e.Title,key:e.Id,value:e.Id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])),s("div",K,[O,i(C,{class:"form-control2 _ge_de_ol",name:"amount_deposit",type:"text",inputmode:"numeric",pattern:"/d+",placeholder:"Enter Deposit Amount",rules:g.validateDepositAmount,autocomplete:"off"},null,8,["rules"]),i(D,{name:"amount_deposit",style:{color:"red"}})]),s("div",j,[s("div",z,[s("button",null,A(r.$t("common.submit")),1)])])])]),_:1},8,["onSubmit"])])])])],64)}const Y=y(x,[["render",Q]]);export{Y as default};
