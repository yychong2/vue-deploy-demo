import{_ as u,d as o,u as _,C as c,H as m,r as f,o as h,c as y,a as g,b as r,h as R,v as b,F as x}from"./index-d3edd26f.js";import{e as D}from"./main-68dd7f1a.js";const i={"X-Member-Details":o.defaults.headers.common["X-Member-Details"]},v={data(){return{title:"",description:"",qr_code:"",referrar_link:"",startDate:null,endDate:null,format:"yyyy-MM-dd"}},created(){const{t}=_();this.title=t("title.referrer"),this.description=t("title.referrer_description"),o.defaults.headers.common["X-Member-Details"]=c.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(c.enc.Utf8),this.getReferrerRebateQRDetails()},methods:{getReferrerList:function(t){o.get("GetReferrerList",{},{headers:i}).then(e=>{e.data.ResponseCode=="0"&&console.log(e.data)}).catch(e=>{console.error(e)})},getReferrerRebateQRDetails:function(t){o.get("GetReferrerRebateQRDetails",{},{headers:i}).then(e=>{e.data.ResponseCode=="0"&&(this.referrar_link=e.data.QrCodeLink,this.qr_code="data:image/png;base64,"+e.data.QrCodeImageBase64)}).catch(e=>{console.error(e)})},searchRebateData(){if(this.startDate==null||this.endDate==null)return alert("The field is required");o.post("GetReferrerRebateReport",{FromDate:this.startDate,ToDate:this.endDate},{headers:i}).then(t=>{console.log(t.data),t.data.ResponseCode=="0"}).catch(t=>{console.error(t)})},copy(){let t=document.querySelector("#testing-code");t.setAttribute("type","text"),t.select();try{var e=document.execCommand("copy"),n=e?"successful":"unsuccessful";alert("Copied "+n)}catch{alert("Oops, unable to copy")}t.setAttribute("type","hidden"),window.getSelection().removeAllRanges()}},components:{Header:m,VueDatePicker:D}},C={class:"py-5"},k={class:"container px-5"},w={class:"bg-light rounded-3 py-5 px-4 px-md-5 mb-5"},M={class:"row gx-5 justify-content-center"},S={class:"col-lg-8 col-xl-5"},q=["src"],Q={style:{position:"relative"}};function A(t,e,n,d,s,l){const p=f("Header");return h(),y(x,null,[g(p,{title:s.title,description:s.description},null,8,["title","description"]),r("section",C,[r("div",k,[r("div",w,[r("div",M,[r("div",S,[r("img",{src:s.qr_code,style:{width:"300px",height:"300px"},alt:""},null,8,q),r("div",Q,[R(r("input",{class:"form-control _ge_de_ol",ref:"message",style:{color:"black","max-width":"1000px"},type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.referrar_link=a),disabled:""},null,512),[[b,s.referrar_link]]),r("button",{class:"copy_button",onClick:e[1]||(e[1]=(...a)=>l.copy&&l.copy(...a))},"Copy")])])])])])])],64)}const T=u(v,[["render",A]]);export{T as default};
