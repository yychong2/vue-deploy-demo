import{_ as i,d as s,u as d,C as c,r as h,o as m,c as u,h as p,j as b,b as P,a as f}from"./index-6b491b01.js";let l={"X-Member-Details":s.defaults.headers.common["X-Member-Details"]};const _={data(){const{t}=d();return{status:t("common.maintenance"),loading:t("common.loading"),balanceList:[],headers:[{text:"Product Name",value:"ProductName"},{text:"Balance",value:"ProductWalletBalance"}],show:!1}},created(){this.GetProductWalletDetails(),s.defaults.headers.common["X-Member-Details"]=c.AES.decrypt(sessionStorage.getItem("memDetail"),this.aesKey).toString(c.enc.Utf8)},methods:{GetProductWalletDetails(){s.get("GetProductWalletDetails",{},{headers:l}).then(t=>{if(t.data.ResponseCode=="0"){t.data.ProductList.forEach(e=>{this.balanceList.push({ProductName:e.ProductName,ProductCode:e.ProductCode,IsSeamless:e.IsSeamless,IsMaintenance:e.IsMaintenance,ProductWalletBalance:this.loading})});for(let e=0;e<this.balanceList.length;e++)this.getProductBalance(this.balanceList[e].ProductCode,this.balanceList[e].IsSeamless,this.balanceList[e].IsMaintenance).then(a=>{this.balanceList[e].ProductWalletBalance=a});this.show=!0}}).catch(t=>{console.error(t)})},async getProductBalance(t,e,n){const a=await s.post("GetBalance?productCode="+t+"&isSeamless="+e+"&isMaintenance="+n,{},{headers:l});return a.data=="9999"||a.data=="null"?this.status:a.data}},components:{}},B={class:"container px-5 my-5"};function g(t,e,n,a,o,D){const r=h("EasyDataTable");return m(),u("div",B,[p(P("div",null,[f(r,{headers:o.headers,items:o.balanceList},null,8,["headers","items"])],512),[[b,o.show]])])}const S=i(_,[["render",g]]);export{S as default};
